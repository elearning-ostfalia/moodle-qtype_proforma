{"version":3,"sources":["../src/xml.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","defineMode","editorConf","config_","indentUnit","config","defaults","htmlMode","prop","type","setStyle","inText","stream","state","chain","parser","tokenize","ch","next","eat","match","inBlock","eatWhile","doctype","inTag","ok","isInText","baseState","tagName","tagStart","test","inAttribute","stringStartCol","column","quote","closure","eol","isInAttribute","style","terminator","depth","Context","startOfLine","prev","context","indent","indented","hasOwnProperty","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","current","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","startState","baseIndent","token","sol","indentation","eatSpace","textAfter","fullLine","Pass","length","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","exec","grabbers","electricInput","blockCommentStart","blockCommentEnd","configuration","helperType","skipAttribute","xmlCurrentTag","name","close","xmlCurrentContext","cx","push","reverse","defineMIME","mimeModes"],"mappings":"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","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"qtype_proforma/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"qtype_proforma/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nvar htmlConfig = {\n  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n                    'track': true, 'wbr': true, 'menuitem': true},\n  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n                     'th': true, 'tr': true},\n  contextGrabbers: {\n    'dd': {'dd': true, 'dt': true},\n    'dt': {'dd': true, 'dt': true},\n    'li': {'li': true},\n    'option': {'option': true, 'optgroup': true},\n    'optgroup': {'optgroup': true},\n    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n    'rp': {'rp': true, 'rt': true},\n    'rt': {'rp': true, 'rt': true},\n    'tbody': {'tbody': true, 'tfoot': true},\n    'td': {'td': true, 'th': true},\n    'tfoot': {'tbody': true},\n    'th': {'td': true, 'th': true},\n    'thead': {'tbody': true, 'tfoot': true},\n    'tr': {'tr': true}\n  },\n  doNotIndent: {\"pre\": true},\n  allowUnquoted: true,\n  allowMissing: true,\n  caseFold: true\n}\n\nvar xmlConfig = {\n  autoSelfClosers: {},\n  implicitlyClosed: {},\n  contextGrabbers: {},\n  doNotIndent: {},\n  allowUnquoted: false,\n  allowMissing: false,\n  allowMissingTagName: false,\n  caseFold: false\n}\n\nCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n  var indentUnit = editorConf.indentUnit\n  var config = {}\n  var defaults = config_.htmlMode ? htmlConfig : xmlConfig\n  for (var prop in defaults) config[prop] = defaults[prop]\n  for (var prop in config_) config[prop] = config_[prop]\n\n  // Return variables for tokenizers\n  var type, setStyle;\n\n  function inText(stream, state) {\n    function chain(parser) {\n      state.tokenize = parser;\n      return parser(stream, state);\n    }\n\n    var ch = stream.next();\n    if (ch == \"<\") {\n      if (stream.eat(\"!\")) {\n        if (stream.eat(\"[\")) {\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n          else return null;\n        } else if (stream.match(\"--\")) {\n          return chain(inBlock(\"comment\", \"-->\"));\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          return chain(doctype(1));\n        } else {\n          return null;\n        }\n      } else if (stream.eat(\"?\")) {\n        stream.eatWhile(/[\\w\\._\\-]/);\n        state.tokenize = inBlock(\"meta\", \"?>\");\n        return \"meta\";\n      } else {\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n        state.tokenize = inTag;\n        return \"tag bracket\";\n      }\n    } else if (ch == \"&\") {\n      var ok;\n      if (stream.eat(\"#\")) {\n        if (stream.eat(\"x\")) {\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n        } else {\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n        }\n      } else {\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n      }\n      return ok ? \"atom\" : \"error\";\n    } else {\n      stream.eatWhile(/[^&<]/);\n      return null;\n    }\n  }\n  inText.isInText = true;\n\n  function inTag(stream, state) {\n    var ch = stream.next();\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n      state.tokenize = inText;\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n      return \"tag bracket\";\n    } else if (ch == \"=\") {\n      type = \"equals\";\n      return null;\n    } else if (ch == \"<\") {\n      state.tokenize = inText;\n      state.state = baseState;\n      state.tagName = state.tagStart = null;\n      var next = state.tokenize(stream, state);\n      return next ? next + \" tag error\" : \"tag error\";\n    } else if (/[\\'\\\"]/.test(ch)) {\n      state.tokenize = inAttribute(ch);\n      state.stringStartCol = stream.column();\n      return state.tokenize(stream, state);\n    } else {\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n      return \"word\";\n    }\n  }\n\n  function inAttribute(quote) {\n    var closure = function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.next() == quote) {\n          state.tokenize = inTag;\n          break;\n        }\n      }\n      return \"string\";\n    };\n    closure.isInAttribute = true;\n    return closure;\n  }\n\n  function inBlock(style, terminator) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        if (stream.match(terminator)) {\n          state.tokenize = inText;\n          break;\n        }\n        stream.next();\n      }\n      return style;\n    }\n  }\n\n  function doctype(depth) {\n    return function(stream, state) {\n      var ch;\n      while ((ch = stream.next()) != null) {\n        if (ch == \"<\") {\n          state.tokenize = doctype(depth + 1);\n          return state.tokenize(stream, state);\n        } else if (ch == \">\") {\n          if (depth == 1) {\n            state.tokenize = inText;\n            break;\n          } else {\n            state.tokenize = doctype(depth - 1);\n            return state.tokenize(stream, state);\n          }\n        }\n      }\n      return \"meta\";\n    };\n  }\n\n  function Context(state, tagName, startOfLine) {\n    this.prev = state.context;\n    this.tagName = tagName;\n    this.indent = state.indented;\n    this.startOfLine = startOfLine;\n    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n      this.noIndent = true;\n  }\n  function popContext(state) {\n    if (state.context) state.context = state.context.prev;\n  }\n  function maybePopContext(state, nextTagName) {\n    var parentTagName;\n    while (true) {\n      if (!state.context) {\n        return;\n      }\n      parentTagName = state.context.tagName;\n      if (!config.contextGrabbers.hasOwnProperty(parentTagName) ||\n          !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n        return;\n      }\n      popContext(state);\n    }\n  }\n\n  function baseState(type, stream, state) {\n    if (type == \"openTag\") {\n      state.tagStart = stream.column();\n      return tagNameState;\n    } else if (type == \"closeTag\") {\n      return closeTagNameState;\n    } else {\n      return baseState;\n    }\n  }\n  function tagNameState(type, stream, state) {\n    if (type == \"word\") {\n      state.tagName = stream.current();\n      setStyle = \"tag\";\n      return attrState;\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return attrState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return tagNameState;\n    }\n  }\n  function closeTagNameState(type, stream, state) {\n    if (type == \"word\") {\n      var tagName = stream.current();\n      if (state.context && state.context.tagName != tagName &&\n          config.implicitlyClosed.hasOwnProperty(state.context.tagName))\n        popContext(state);\n      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n        setStyle = \"tag\";\n        return closeState;\n      } else {\n        setStyle = \"tag error\";\n        return closeStateErr;\n      }\n    } else if (config.allowMissingTagName && type == \"endTag\") {\n      setStyle = \"tag bracket\";\n      return closeState(type, stream, state);\n    } else {\n      setStyle = \"error\";\n      return closeStateErr;\n    }\n  }\n\n  function closeState(type, _stream, state) {\n    if (type != \"endTag\") {\n      setStyle = \"error\";\n      return closeState;\n    }\n    popContext(state);\n    return baseState;\n  }\n  function closeStateErr(type, stream, state) {\n    setStyle = \"error\";\n    return closeState(type, stream, state);\n  }\n\n  function attrState(type, _stream, state) {\n    if (type == \"word\") {\n      setStyle = \"attribute\";\n      return attrEqState;\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n      var tagName = state.tagName, tagStart = state.tagStart;\n      state.tagName = state.tagStart = null;\n      if (type == \"selfcloseTag\" ||\n          config.autoSelfClosers.hasOwnProperty(tagName)) {\n        maybePopContext(state, tagName);\n      } else {\n        maybePopContext(state, tagName);\n        state.context = new Context(state, tagName, tagStart == state.indented);\n      }\n      return baseState;\n    }\n    setStyle = \"error\";\n    return attrState;\n  }\n  function attrEqState(type, stream, state) {\n    if (type == \"equals\") return attrValueState;\n    if (!config.allowMissing) setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrValueState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n    setStyle = \"error\";\n    return attrState(type, stream, state);\n  }\n  function attrContinuedState(type, stream, state) {\n    if (type == \"string\") return attrContinuedState;\n    return attrState(type, stream, state);\n  }\n\n  return {\n    startState: function(baseIndent) {\n      var state = {tokenize: inText,\n                   state: baseState,\n                   indented: baseIndent || 0,\n                   tagName: null, tagStart: null,\n                   context: null}\n      if (baseIndent != null) state.baseIndent = baseIndent\n      return state\n    },\n\n    token: function(stream, state) {\n      if (!state.tagName && stream.sol())\n        state.indented = stream.indentation();\n\n      if (stream.eatSpace()) return null;\n      type = null;\n      var style = state.tokenize(stream, state);\n      if ((style || type) && style != \"comment\") {\n        setStyle = null;\n        state.state = state.state(type || style, stream, state);\n        if (setStyle)\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n      }\n      return style;\n    },\n\n    indent: function(state, textAfter, fullLine) {\n      var context = state.context;\n      // Indent multi-line strings (e.g. css).\n      if (state.tokenize.isInAttribute) {\n        if (state.tagStart == state.indented)\n          return state.stringStartCol + 1;\n        else\n          return state.indented + indentUnit;\n      }\n      if (context && context.noIndent) return CodeMirror.Pass;\n      if (state.tokenize != inTag && state.tokenize != inText)\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n      // Indent the starts of attribute names.\n      if (state.tagName) {\n        if (config.multilineTagIndentPastTag !== false)\n          return state.tagStart + state.tagName.length + 2;\n        else\n          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n      }\n      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n        while (context) {\n          if (context.tagName == tagAfter[2]) {\n            context = context.prev;\n            break;\n          } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n            context = context.prev;\n          } else {\n            break;\n          }\n        }\n      } else if (tagAfter) { // Opening tag spotted\n        while (context) {\n          var grabbers = config.contextGrabbers[context.tagName];\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\n            context = context.prev;\n          else\n            break;\n        }\n      }\n      while (context && context.prev && !context.startOfLine)\n        context = context.prev;\n      if (context) return context.indent + indentUnit;\n      else return state.baseIndent || 0;\n    },\n\n    electricInput: /<\\/[\\s\\w:]+>$/,\n    blockCommentStart: \"<!--\",\n    blockCommentEnd: \"-->\",\n\n    configuration: config.htmlMode ? \"html\" : \"xml\",\n    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n    skipAttribute: function(state) {\n      if (state.state == attrValueState)\n        state.state = attrState\n    },\n\n    xmlCurrentTag: function(state) {\n      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n    },\n\n    xmlCurrentContext: function(state) {\n      var context = []\n      for (var cx = state.context; cx; cx = cx.prev)\n        if (cx.tagName) context.push(cx.tagName)\n      return context.reverse()\n    }\n  };\n});\n\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n});\n"],"file":"xml.min.js"}