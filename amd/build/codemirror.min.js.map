{"version":3,"sources":["../src/codemirror.js"],"names":["global","factory","exports","module","define","amd","CodeMirror","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","match","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","className","after","slice","index","length","removeChildren","e","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","i","eltP","setAttribute","range","createRange","start","end","endNode","r","setEnd","setStart","body","createTextRange","moveToElementText","parentNode","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","a","b","as","split","selectInput","select","selectionStart","selectionEnd","value","_e","bind","f","args","Array","prototype","call","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","indexOf","Delayed","id","time","handler","onTimeout","self","Date","setTimeout","set","ms","clearTimeout","array","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","push","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","Object","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","toLowerCase","isWordChar","helper","source","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","types","i$1","prev","type","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","replace","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","j$2","nstart","unshift","reverse","getOrder","line","text","noHandlers","on","emitter","addEventListener","attachEvent","map$$1","_handlers","concat","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","cm","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","window","getSelection","te","range$$1","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","resolveMode","spec","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","next","eat","ok","eatWhile","eatSpace","this$1","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","getLine","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","display","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","old","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","lineNo$$1","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","wrapper","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","key","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","widgetHeight$$1","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","empty","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","add","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","onBlur","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elt$$1","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","hasFocus","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","estimateHeight$$1","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","loadFile","file","allowDropFileTypes","reader","onload","readAsText","draggingText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","String","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","dragDropChanged","funcs","dragFunctions","toggle","enter","over","leave","drop","wrappingChanged","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","getField","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","spellcheck","autocorrect","autocapitalize","hiddenTextarea","border","findPosH","origDir","findNextLine","moveOnce","boundToLine","sawType","getHelper","hitSide","findPosV","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","blur","pollSelection","poll","pollInterval","isInGutter","triggerOnKeyDown","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","readOnlyChanged","resetPosition","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","nodeName","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","scrollTo","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","disabled","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","detach","attach","integer","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","amount","rtlMoveVisually","goalColumn","goals","startChar","check","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getWrapperElement","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","dontDelegate","method","defineMIME","mime","defineExtension","func","defineDocExtension","fromTextArea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","cmpPos","version"],"mappings":"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","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.CodeMirror = factory());\n}(this, (function () { 'use strict';\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) { presto_version = Number(presto_version[1]); }\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n  var rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      { e.removeChild(e.firstChild); }\n    return e\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e)\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) { e.className = className; }\n    if (style) { e.style.cssText = style; }\n    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n    return e\n  }\n  // wrapper for elt, which removes the elt from the accessibility tree\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e\n  }\n\n  var range;\n  if (document.createRange) { range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r\n  }; }\n  else { range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r\n  }; }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      { child = child.parentNode; }\n    if (parent.contains)\n      { return parent.contains(child) }\n    do {\n      if (child.nodeType == 11) { child = child.host; }\n      if (child == parent) { return true }\n    } while (child = child.parentNode)\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n    try {\n      activeElement = document.activeElement;\n    } catch(e) {\n      activeElement = document.body || null;\n    }\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n      { activeElement = activeElement.shadowRoot.activeElement; }\n    return activeElement\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n  }\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n    return b\n  }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n  else if (ie) // Suppress mysterious IE10 errors\n    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args)}\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) { target = {}; }\n    for (var prop in obj)\n      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        { target[prop] = obj[prop]; } }\n    return target\n  }\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) { end = string.length; }\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        { return n + (end - i) }\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function() {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n    if (self.time <= +new Date) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date);\n    }\n  };\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date + ms;\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      { if (array[i] == elt) { return i } }\n    return -1\n  }\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) { nextTab = string.length; }\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        { return pos + Math.min(skipped, goal - col) }\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) { return pos }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n    return spaceStrs[n]\n  }\n\n  function lst(arr) { return arr[arr.length-1] }\n\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n    return out\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0, priority = score(value);\n    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) { copyObj(props, inst); }\n    return inst\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n  }\n  function isWordChar(ch, helper) {\n    if (!helper) { return isWordCharBasic(ch) }\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n    return helper.test(ch)\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n    return true\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n    return pos\n  }\n\n  // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n    for (;;) {\n      if (from == to) { return from }\n      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n      if (mid == from) { return pred(mid) ? from : to }\n      if (pred(mid)) { to = mid; }\n      else { from = mid + dir; }\n    }\n  }\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) { return f(from, to, \"ltr\", 0) }\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n    if (!found) { f(from, to, \"ltr\"); }\n  }\n\n  var bidiOther = null;\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < ch && cur.to > ch) { return i }\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n        else { bidiOther = i; }\n      }\n    }\n    return found != null ? found : bidiOther\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6f9\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n    function charType(code) {\n      if (code <= 0xf7) { return lowTypes.charAt(code) }\n      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n      else if (code == 0x200c) { return \"b\" }\n      else { return \"L\" }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n      var len = str.length, types = [];\n      for (var i = 0; i < len; ++i)\n        { types.push(charType(str.charCodeAt(i))); }\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n        if (type == \"m\") { types[i$1] = prev; }\n        else { prev = type; }\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n        prev$1 = type$2;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n        if (type$3 == \",\") { types[i$4] = \"N\"; }\n        else if (type$3 == \"%\") {\n          var end = (void 0);\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n          i$4 = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = (void 0);\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n          i$6 = end$1 - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7, at = order.length;\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); }\n              var nstart = j$2;\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              pos = j$2;\n            } else { ++j$2; }\n          }\n          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n        }\n      }\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order\n    }\n  })();\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line, direction) {\n    var order = line.order;\n    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n    return order\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var noHandlers = [];\n\n  var on = function(emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers || (emitter._handlers = {});\n      map$$1[type] = (map$$1[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map$$1 = emitter._handlers, arr = map$$1 && map$$1[type];\n      if (arr) {\n        var index = indexOf(arr, f);\n        if (index > -1)\n          { map$$1[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n      }\n    }\n  }\n\n  function signal(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type);\n    if (!handlers.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) { return }\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n      { set.push(arr[i]); } }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) { e.preventDefault(); }\n    else { e.returnValue = false; }\n  }\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) { e.stopPropagation(); }\n    else { e.cancelBubble = true; }\n  }\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n  }\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n  function e_target(e) {return e.target || e.srcElement}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) { b = 1; }\n      else if (e.button & 2) { b = 3; }\n      else if (e.button & 4) { b = 2; }\n    }\n    if (mac && e.ctrlKey && b == 1) { b = 3; }\n    return b\n  }\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) { return false }\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) { return badBidiRects }\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n    return badBidiRects = (r1.right - r0.right < 3)\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) { nl = string.length; }\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result\n  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n  var hasSelection = window.getSelection ? function (te) {\n    try { return te.selectionStart != te.selectionEnd }\n    catch(e) { return false }\n  } : function (te) {\n    var range$$1;\n    try {range$$1 = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range$$1 || range$$1.parentElement() != te) { return false }\n    return range$$1.compareEndPoints(\"StartToEnd\", range$$1) != 0\n  };\n\n  var hasCopyEvent = (function () {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) { return true }\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\"\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) { return badZoomedRects }\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n  }\n\n  // Known modes, by name and by MIME\n  var modes = {}, mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  function defineMode(name, mode) {\n    if (arguments.length > 2)\n      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  }\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") { found = {name: found}; }\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\")\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\")\n    }\n    if (typeof spec == \"string\") { return {name: spec} }\n    else { return spec || {name: \"null\"} }\n  }\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) { return getMode(options, \"text/plain\") }\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) { continue }\n        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n    return modeObj\n  }\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = {};\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) { return state }\n    if (mode.copyState) { return mode.copyState(state) }\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) { val = val.concat([]); }\n      nstate[n] = val;\n    }\n    return nstate\n  }\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  function innerMode(mode, state) {\n    var info;\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n      if (!info || info.mode == mode) { break }\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state}\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true\n  }\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = function(string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length)\n      { return this.string.charAt(this.pos++) }\n  };\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n    if (typeof match == \"string\") { ok = ch == match; }\n    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n    if (ok) {++this.pos; return ch}\n  };\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n    while (this.eat(match)){}\n    return this.pos > start\n  };\n  StringStream.prototype.eatSpace = function () {\n      var this$1 = this;\n\n    var start = this.pos;\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos; }\n    return this.pos > start\n  };\n  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n    if (found > -1) {this.pos = found; return true}\n  };\n  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) -\n      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n  };\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n      var substr = this.string.substr(this.pos, pattern.length);\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) { this.pos += pattern.length; }\n        return true\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n      if (match && match.index > 0) { return null }\n      if (match && consume !== false) { this.pos += match[0].length; }\n      return match\n    }\n  };\n  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n    try { return inner() }\n    finally { this.lineStart -= n; }\n  };\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n)\n  };\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos)\n  };\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n    var chunk = doc;\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n]\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n      if (n == end.line) { text = text.slice(0, end.ch); }\n      if (n == start.line) { text = text.slice(start.ch); }\n      out.push(text);\n      ++n;\n    });\n    return out\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n    return out\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) { return null }\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) { break }\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1], ch = child.height;\n        if (h < ch) { chunk = child; continue outer }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n\n    } while (!chunk.lines)\n    var i = 0;\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) { break }\n      h -= lh;\n    }\n    return n + i\n  }\n\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n  }\n\n  // A Pos instance represents a position within the text.\n  function Pos(line, ch, sticky) {\n    if ( sticky === void 0 ) sticky = null;\n\n    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  }\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n  function copyPos(x) {return Pos(x.line, x.ch)}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n    return clipToLen(pos, getLine(doc, pos.line).text.length)\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n    else if (ch < 0) { return Pos(pos.line, 0) }\n    else { return pos }\n  }\n  function clipPosArray(doc, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n    return out\n  }\n\n  var SavedContext = function(state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function(doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n    return line\n  };\n\n  Context.prototype.baseToken = function (n) {\n      var this$1 = this;\n\n    if (!this.baseTokens) { return null }\n    while (this.baseTokens[this.baseTokenPos] <= n)\n      { this$1.baseTokenPos += 2; }\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n            size: this.baseTokens[this.baseTokenPos] - n}\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext)\n      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n    else\n      { return new Context(doc, copyState(doc.mode, saved), line) }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n  };\n\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n            lineClasses, forceToEnd);\n    var state = context.state;\n\n    // Run overlays, adjust style array.\n    var loop = function ( o ) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            { st.splice(i, 1, end, st[i+1], i_end); }\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) { return }\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n      if (resetState) { context.state = resetState; }\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n      if (result.classes) { line.styleClasses = result.classes; }\n      else if (line.styleClasses) { line.styleClasses = null; }\n      if (updateFrontier === cm.doc.highlightFrontier)\n        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n    }\n    return line.styles\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) { return new Context(doc, true, n) }\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n    if (precise) { doc.modeFrontier = context.line; }\n    return context\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") { callBlankLine(mode, context.state); }\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) { return mode.blankLine(state) }\n    if (!mode.innerMode) { return }\n    var inner = innerMode(mode, state);\n    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) { inner[0] = innerMode(mode, state).mode; }\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) { return style }\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n  }\n\n  var Token = function(stream, type, state) {\n    this.start = stream.start; this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  };\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n    if (asArray) { tokens = []; }\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n    }\n    return asArray ? tokens : new Token(stream, style, context.state)\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) { for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) { break }\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        { output[prop] = lineClass[2]; }\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        { output[prop] += \" \" + lineClass[2]; }\n    } }\n    return type\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) { return doc.first }\n      var line = getLine(doc, search - 1), after = line.stateAfter;\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n        { return search }\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n    if (doc.highlightFrontier < n - 10) { return }\n    var start = doc.first;\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter;\n      // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break\n      }\n    }\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  }\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) { for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) { return span }\n    } }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    var r;\n    for (var i = 0; i < spans.length; ++i)\n      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n    return r\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    } }\n    return nw\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n    if (old) { for (var i = 0; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    } }\n    return nw\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) { return null }\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) { return null }\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) { span.to = startCh; }\n          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n        if (span$1.to != null) { span$1.to += offset; }\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n          if (!found$1) {\n            span$1.from = offset;\n            if (sameLine) { (first || (first = [])).push(span$1); }\n          }\n        } else {\n          span$1.from += offset;\n          if (sameLine) { (first || (first = [])).push(span$1); }\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) { first = clearEmptySpans(first); }\n    if (last && last != first) { last = clearEmptySpans(last); }\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n          { if (first[i$2].to == null)\n            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n      for (var i$3 = 0; i$3 < gap; ++i$3)\n        { newMarkers.push(gapMarkers); }\n      newMarkers.push(last);\n    }\n    return newMarkers\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        { spans.splice(i--, 1); }\n    }\n    if (!spans.length) { return null }\n    return spans\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          { (markers || (markers = [])).push(mark); }\n      } }\n    });\n    if (!markers) { return null }\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          { newParts.push({from: p.from, to: m.from}); }\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          { newParts.push({from: m.to, to: p.to}); }\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n    return parts\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.detachLine(line); }\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) { return }\n    for (var i = 0; i < spans.length; ++i)\n      { spans[i].marker.attachLine(line); }\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) { return lenDiff }\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) { return -fromCmp }\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) { return toCmp }\n    return b.id - a.id\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        { found = sp.marker; }\n    } }\n    return found\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n    } }\n    return found\n  }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo$$1, from, to, marker) {\n    var line = getLine(doc, lineNo$$1);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n        { return true }\n    } }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      { line = merged.find(-1, true).line; }\n    return line\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return line\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line\n      ;(lines || (lines = [])).push(line);\n    }\n    return lines\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) { return lineN }\n    return lineNo(vis)\n  }\n\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) { return lineN }\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) { return lineN }\n    while (merged = collapsedSpanAtEnd(line))\n      { line = merged.find(1, true).line; }\n    return lineNo(line) + 1\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) { continue }\n      if (sp.from == null) { return true }\n      if (sp.marker.widgetNode) { continue }\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        { return true }\n    } }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      { return true }\n    for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) { return true }\n    }\n  }\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) { break }\n      else { h += line.height; }\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n        if (cur == chunk) { break }\n        else { h += cur.height; }\n      }\n    }\n    return h\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) { return 0 }\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n    return len\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () { return lineNo(this) };\n  eventMixin(Line);\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) { line.stateAfter = null; }\n    if (line.styles) { line.styles = null; }\n    if (line.order != null) { line.order = null; }\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) { return null }\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   trailingSpace: false,\n                   splitSpaces: cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0);\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n        if (line.styleClasses.textClass)\n          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit) {\n      var last = builder.content.lastChild;\n      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n        { builder.content.className = \"cm-tab-wrap-hack\"; }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n    return builder\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) { return }\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    var content;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) { mustWrap = true; }\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n          else { content.appendChild(txt); }\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) { break }\n        pos += skipped + 1;\n        var txt$1 = (void 0);\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n          else { content.appendChild(txt$1); }\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) { fullStyle += startStyle; }\n      if (endStyle) { fullStyle += endStyle; }\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (attributes) {\n        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n          { token.setAttribute(attr, attributes[attr]); } }\n      }\n      return builder.content.appendChild(token)\n    }\n    builder.content.appendChild(content);\n  }\n\n  // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) { return text }\n    var spaceBefore = trailingBefore, result = \"\";\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n        { ch = \"\\u00a0\"; }\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n    return result\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = (void 0);\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n          if (part.to > start && part.from <= start) { break }\n        }\n        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    }\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n    builder.trailingSpace = false;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n      return\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [], endStyles = (void 0);\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) { spanStyle += \" \" + m.className; }\n            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n            // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n            if (m.attributes) {\n              for (var attr in m.attributes)\n                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n            }\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              { collapsed = sp; }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) { return }\n          if (collapsed.to == pos) { collapsed = false; }\n        }\n      }\n      if (pos >= len) { break }\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        { callbacks[i].call(null); }\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n      }\n    } while (i < callbacks.length)\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n    if (!group) { return }\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type);\n    if (!arr.length) { return }\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    var loop = function ( i ) {\n      list.push(function () { return arr[i].apply(null, args); });\n    };\n\n    for (var i = 0; i < arr.length; ++i)\n      loop( i );\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") { updateLineText(cm, lineView); }\n      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n    }\n    return lineView.node\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) { cls += \" CodeMirror-linebackground\"; }\n    if (lineView.background) {\n      if (cls) { lineView.background.className = cls; }\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built\n    }\n    return buildLineContent(cm, lineView)\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n    if (lineView.line.wrapClass)\n      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n    else if (lineView.node != lineView.text)\n      { lineView.node.className = \"\"; }\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        { lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n      } }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) { lineView.alignable = null; }\n    for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {\n      next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        { lineView.node.removeChild(node); }\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n    if (built.textClass) { lineView.textClass = built.textClass; }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) { return }\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n      else\n        { wrap.appendChild(node); }\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n  (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) { return widget.height }\n    var cm = widget.doc.cm;\n    if (!cm) { return 0 }\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n      if (widget.noHScroll)\n        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.parentNode.offsetHeight\n  }\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        { return true }\n    }\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n  function paddingH(display) {\n    if (display.cachedPaddingH) { return display.cachedPaddingH }\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n    return data\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n    for (var i = 0; i < lineView.rest.length; i++)\n      { if (lineView.rest[i] == line)\n        { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n      { if (lineNo(lineView.rest[i$1]) > lineN)\n        { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      { return cm.display.view[findViewIndex(cm, lineN)] }\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      { return ext }\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      { view = updateExternalMeasurement(cm, line); }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    }\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) { ch = -1; }\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) { prepared.cache[key] = found; }\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom}\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map$$1, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map$$1.length; i += 3) {\n      mStart = map$$1[i];\n      mEnd = map$$1[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map$$1.length - 3 || ch == mEnd && map$$1[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) { collapse = \"right\"; }\n      }\n      if (start != null) {\n        node = map$$1[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          { collapse = bias; }\n        if (bias == \"left\" && start == 0)\n          { while (i && map$$1[i - 2] == map$$1[i - 3] && map$$1[i - 1].insertLeft) {\n            node = map$$1[(i -= 3) + 2];\n            collapse = \"left\";\n          } }\n        if (bias == \"right\" && start == mEnd - mStart)\n          { while (i < map$$1.length - 3 && map$$1[i + 3] == map$$1[i + 4] && !map$$1[i + 5].insertLeft) {\n            node = map$$1[(i += 3) + 2];\n            collapse = \"right\";\n          } }\n        break\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n      if ((rect = rects[i]).left != rect.right) { break }\n    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n      if ((rect = rects[i$1]).left != rect.right) { break }\n    } }\n    return rect\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n          { rect = node.parentNode.getBoundingClientRect(); }\n        else\n          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n        if (rect.left || rect.right || start == 0) { break }\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) { collapse = bias = \"right\"; }\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n      else\n        { rect = node.getBoundingClientRect(); }\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n      else\n        { rect = nullRect; }\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n    for (; i < heights.length - 1; i++)\n      { if (mid < heights[i]) { break } }\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) { result.bogus = true; }\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      { return rect }\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n        { lineView.measure.caches[i] = {}; } }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) { return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) }\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft\n  }\n  function pageScrollY() {\n    if (chrome && android) { return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) }\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n    if (lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above)\n      { height += widgetHeight(lineObj.widgets[i]); } } }\n    return height\n  }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height; rect.bottom += height;\n    }\n    if (context == \"line\") { return rect }\n    if (!context) { context = \"local\"; }\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") { yOff += paddingTop(cm.display); }\n    else { yOff -= cm.display.viewOffset; }\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") { return coords }\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) { m.left = m.right; } else { m.right = m.left; }\n      return intoCoordSystem(cm, lineObj, m, context)\n    }\n    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos], right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert)\n    }\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n    return val\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n    if (outside) { pos.outside = outside; }\n    return pos\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n    if (x < 0) { x = 0; }\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n      if (!collapsed) { return found }\n      var rangeEnd = collapsed.find(1);\n      if (rangeEnd.line == lineN) { return rangeEnd }\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n    return {begin: begin, end: end}\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n  }\n\n  // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo$$1, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n    var widgetHeight$$1 = widgetTopHeight(lineObj);\n    var begin = 0, end = lineObj.text.length, ltr = true;\n\n    var order = getOrder(lineObj, cm.doc.direction);\n    // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n                   (cm, lineObj, lineNo$$1, preparedMeasure, order, x, y);\n      ltr = part.level != 1;\n      // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    }\n\n    // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n    var chAround = null, boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight$$1; box.bottom += widgetHeight$$1;\n      if (!boxIsAfter(box, x, y, false)) { return false }\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n      return true\n    }, begin, end);\n\n    var baseX, sticky, outside = false;\n    // If a box around the coordinates was found, use that\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) { ch++; }\n      // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight$$1 <= y) == ltr ?\n        \"after\" : \"before\";\n      // Now get accurate coordinates for this place, in order to get a\n      // base X position\n      var coords = cursorCoords(cm, Pos(lineNo$$1, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo$$1, ch, sticky, outside, x - baseX)\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo$$1, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i], ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo$$1, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n                                     \"line\", lineObj, preparedMeasure), x, y, true)\n    }, 0, order.length - 1);\n    var part = order[index];\n    // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo$$1, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n                               \"line\", lineObj, preparedMeasure);\n      if (boxIsAfter(start, x, y, true) && start.top > y)\n        { part = order[index - 1]; }\n    }\n    return part\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n    var part = null, closestDist = null;\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n      if (p.from >= end || p.to <= begin) { continue }\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n      // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n    if (!part) { part = order[order.length - 1]; }\n    // Clip the part to the wrapped line.\n    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n    return part\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) { display.cachedTextHeight = height; }\n    removeChildren(display.measure);\n    return height || 1\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) { display.cachedCharWidth = width; }\n    return width || 10\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth}\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n      var widgetsHeight = 0;\n      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n      } }\n\n      if (wrapping)\n        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n      else\n        { return widgetsHeight + th }\n    }\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n    });\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) { return null }\n    n -= cm.display.viewFrom;\n    if (n < 0) { return null }\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) { return i }\n    }\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) { from = cm.doc.first; }\n    if (to == null) { to = cm.doc.first + cm.doc.size; }\n    if (!lendiff) { lendiff = 0; }\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      { display.updateLineNumbers = from; }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        { resetView(cm); }\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        { ext.lineN += lendiff; }\n      else if (from < ext.lineN + ext.size)\n        { display.externalMeasured = null; }\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      { display.externalMeasured = null; }\n\n    if (line < display.viewFrom || line >= display.viewTo) { return }\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) { return }\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) { arr.push(type); }\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      { return {index: index, lineN: newN} }\n    var n = cm.display.viewFrom;\n    for (var i = 0; i < index; i++)\n      { n += view[i].size; }\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) { return null }\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN}\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n      else if (display.viewFrom < from)\n        { display.view = display.view.slice(findViewIndex(cm, from)); }\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n      else if (display.viewTo > to)\n        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n    }\n    return dirty\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if ( primary === void 0 ) primary = true;\n\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) { continue }\n      var range$$1 = doc.sel.ranges[i];\n      if (range$$1.from().line >= cm.display.viewTo || range$$1.to().line < cm.display.viewFrom) { continue }\n      var collapsed = range$$1.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        { drawSelectionCursor(cm, range$$1.head, curFragment); }\n      if (!collapsed)\n        { drawSelectionRange(cm, range$$1, selFragment); }\n    }\n    return result\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range$$1, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) { top = 0; }\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop]\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n        var first = i == 0, last = !order || i == order.length - 1;\n        if (toPos.top - fromPos.top <= 3) { // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else { // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n      });\n      return {start: start, end: end}\n    }\n\n    var sFrom = range$$1.from(), sTo = range$$1.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) { return }\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\"; },\n        cm.options.cursorBlinkRate); }\n    else if (cm.options.cursorBlinkRate < 0)\n      { display.cursorDiv.style.visibility = \"hidden\"; }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n      onBlur(cm);\n    } }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false; }\n\n    if (cm.options.readOnly == \"nocursor\") { return }\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) { return }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n      var height = (void 0), width = 0;\n      if (cur.hidden) { continue }\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n        // Check that lines don't extend past the right of the current\n        // editor width\n        if (!wrapping && cur.text.firstChild)\n          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n      }\n      var diff = cur.line.height - height;\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n          { updateWidgetHeight(cur.rest[j]); } }\n      }\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n      var w = line.widgets[i], parent = w.node.parentNode;\n      if (parent) { w.height = parent.offsetHeight; }\n    } }\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)}\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (rect.top + box.top < 0) { doScroll = true; }\n    else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false; }\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) { margin = 0; }\n    var rect;\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {left: Math.min(coords.left, endCoords.left),\n              top: Math.min(coords.top, endCoords.top) - margin,\n              right: Math.max(coords.left, endCoords.left),\n              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n      }\n      if (!changed) { break }\n    }\n    return rect\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (rect.top < 0) { rect.top = 0; }\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n      if (newTop != screentop) { result.scrollTop = newTop; }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n    if (tooWide) { rect.right = rect.left + screenw; }\n    if (rect.left < 10)\n      { result.scrollLeft = 0; }\n    else if (rect.left < screenleft)\n      { result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10)); }\n    else if (rect.right > screenw + screenleft - 3)\n      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n    return result\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollTop(cm, top) {\n    if (top == null) { return }\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) { resolveScrollToPos(cm); }\n    if (x != null) { cm.curOp.scrollLeft = x; }\n    if (y != null) { cm.curOp.scrollTop = y; }\n  }\n\n  function scrollToRange(cm, range$$1) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range$$1;\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range$$1 = cm.curOp.scrollToPos;\n    if (range$$1) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range$$1.from), to = estimateCoords(cm, range$$1.to);\n      scrollToCoordsRange(cm, from, to, range$$1.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  }\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n    setScrollTop(cm, val, true);\n    if (gecko) { updateDisplaySimple(cm); }\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val);\n    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n  }\n\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    }\n  }\n\n  var NativeScrollbars = function(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n      // A bug in IE8 can cause this value to be negative, so guard it.\n      this.vert.firstChild.style.height =\n        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width =\n        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) { this.zeroWidthHack(); }\n      this.checkedZeroWidth = true;\n    }\n\n    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed;\n    this.disableVert = new Delayed;\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt$$1 = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n      if (elt$$1 != bar) { bar.style.pointerEvents = \"none\"; }\n      else { delay.set(1000, maybeDisable); }\n    }\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n  NullScrollbars.prototype.setScrollLeft = function () {};\n  NullScrollbars.prototype.setScrollTop = function () {};\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) { measure = measureForScrollbars(cm); }\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        { updateHeightsInViewport(cm); }\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else { d.scrollbarFiller.style.display = \"\"; }\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else { d.gutterFiller.style.display = \"\"; }\n  }\n\n  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n      else { updateScrollTop(cm, pos); }\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n  }\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: 0,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    pushOperation(cm.curOp);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp;\n    if (op) { finishOperation(op, function (group) {\n      for (var i = 0; i < group.ops.length; i++)\n        { group.ops[i].cm.curOp = null; }\n      endOperations(group);\n    }); }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      { endOperation_R1(ops[i]); }\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n      { endOperation_W1(ops[i$1]); }\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n      { endOperation_R2(ops[i$2]); }\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n      { endOperation_W2(ops[i$3]); }\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n      { endOperation_finish(ops[i$4]); }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) { findMaxLine(cm); }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      { op.preparedSelection = display.input.prepareSelection(); }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n    if (op.preparedSelection)\n      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      { updateScrollbars(cm, op.barMeasure); }\n    if (op.updatedDisplay)\n      { setDocumentHeight(cm, op.barMeasure); }\n\n    if (op.selectionChanged) { restartBlink(cm); }\n\n    if (cm.state.focused && op.updateInput)\n      { cm.display.input.reset(op.typing); }\n    if (takeFocus) { ensureFocus(op.cm); }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      { display.wheelStartX = display.wheelStartY = null; }\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n    if (display.wrapper.offsetHeight)\n      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      { signal(cm, \"changes\", cm, op.changeObjs); }\n    if (op.update)\n      { op.update.finish(); }\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) { return f() }\n    startOperation(cm);\n    try { return f() }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) { return f.apply(cm, arguments) }\n      startOperation(cm);\n      try { return f.apply(cm, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) { return f.apply(this, arguments) }\n      startOperation(this);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(this); }\n    }\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n      startOperation(cm);\n      try { return f.apply(this, arguments) }\n      finally { endOperation(cm); }\n    }\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo)\n      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n    var end = +new Date + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n        if (resetState) { context.state = resetState; }\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) { line.styleClasses = newCls; }\n        else if (oldCls) { line.styleClasses = null; }\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n        if (ischange) { changedLines.push(context.line); }\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          { processLine(cm, line.text, context); }\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n    if (changedLines.length) { runInOp(cm, function () {\n      for (var i = 0; i < changedLines.length; i++)\n        { regLineChange(cm, changedLines[i], \"text\"); }\n    }); }\n  }\n\n  // DISPLAY DRAWING\n\n  var DisplayUpdate = function(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type))\n      { this.events.push(arguments); }\n  };\n  DisplayUpdate.prototype.finish = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.events.length; i++)\n      { signal.apply(null, this$1.events[i]); }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) { return null }\n    var active = activeElt();\n    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n    var result = {activeElt: active};\n    if (window.getSelection) {\n      var sel = window.getSelection();\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n    return result\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) { return }\n    snapshot.activeElt.focus();\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(), range$$1 = document.createRange();\n      range$$1.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range$$1.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range$$1);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      { return false }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      { return false }\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var selSnapshot = selectionSnapshot(cm);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    restoreSelection(selSnapshot);\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          { break }\n      }\n      if (!updateDisplayIfNeeded(cm, update)) { break }\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        { node.style.display = \"none\"; }\n      else\n        { node.parentNode.removeChild(node); }\n      return next\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) { cur = rm(cur); }\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) { cur = rm(cur); }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n  }\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n      if (cm.options.fixedGutter) {\n        if (view[i].gutter)\n          { view[i].gutter.style.left = left; }\n        if (view[i].gutterBackground)\n          { view[i].gutterBackground.style.left = left; }\n      }\n      var align = view[i].alignable;\n      if (align) { for (var j = 0; j < align.length; j++)\n        { align[j].style.left = left; } }\n    } }\n    if (cm.options.fixedGutter)\n      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) { return false }\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true\n    }\n    return false\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [], sawLineNumbers = false;\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i], style = null;\n      if (typeof name != \"string\") { style = name.style; name = name.className; }\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) { continue }\n        else { sawLineNumbers = true; }\n      }\n      result.push({className: name, style: style});\n    }\n    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n    return result\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function renderGutters(display) {\n    var gutters = display.gutters, specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n      if (style) { gElt.style.cssText = style; }\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  }\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n    if (place) {\n      if (place.appendChild) { place.appendChild(d.wrapper); }\n      else { place(d.wrapper); }\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n\n    input.init(d);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) { wheelPixelsPerUnit = -.53; }\n  else if (gecko) { wheelPixelsPerUnit = 15; }\n  else if (chrome) { wheelPixelsPerUnit = -.7; }\n  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n    else if (dy == null) { dy = e.wheelDelta; }\n    return {x: dx, y: dy}\n  }\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit)); }\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        { e_preventDefault(e); }\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) { return }\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) { return }\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  var Selection = function(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n  Selection.prototype.equals = function (other) {\n      var this$1 = this;\n\n    if (other == this) { return true }\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this$1.ranges[i], there = other.ranges[i];\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n    }\n    return true\n  };\n\n  Selection.prototype.deepCopy = function () {\n      var this$1 = this;\n\n    var out = [];\n    for (var i = 0; i < this.ranges.length; i++)\n      { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)); }\n    return new Selection(out, this.primIndex)\n  };\n\n  Selection.prototype.somethingSelected = function () {\n      var this$1 = this;\n\n    for (var i = 0; i < this.ranges.length; i++)\n      { if (!this$1.ranges[i].empty()) { return true } }\n    return false\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n      var this$1 = this;\n\n    if (!end) { end = pos; }\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this$1.ranges[i];\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n        { return i }\n    }\n    return -1\n  };\n\n  var Range = function(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  };\n\n  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) { --primIndex; }\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex)\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0)\n  }\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  function changeEnd(change) {\n    if (!change.text) { return change.to }\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n  }\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) { return pos }\n    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n    return Pos(line, ch)\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n    else\n      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex)\n  }\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) { line.stateAfter = null; }\n      if (line.styles) { line.styles = null; }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) { regChange(cm); }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight$$1) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight$$1);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      var result = [];\n      for (var i = start; i < end; ++i)\n        { result.push(new Line(text[i], spansFor(i), estimateHeight$$1)); }\n      return result\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) { doc.remove(from.line, nlines); }\n      if (added.length) { doc.insert(from.line, added); }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight$$1));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) { continue }\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) { continue }\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      } }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n    return histChange\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) { array.pop(); }\n      else { break }\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done)\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done)\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done)\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n    var last;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        { pushSelectionToHistory(doc.sel, hist.done); }\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) { hist.done.shift(); }\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) { signal(doc, \"historyAdded\"); }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      { hist.done[hist.done.length - 1] = sel; }\n    else\n      { pushSelectionToHistory(sel, hist.done); }\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      { clearSelectionEvents(hist.undone); }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      { dest.push(sel); }\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans)\n        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) { return null }\n    var out;\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n      else if (out) { out.push(spans[i]); }\n    }\n    return !out ? spans : out.length ? out : null\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) { return null }\n    var nw = [];\n    for (var i = 0; i < change.text.length; ++i)\n      { nw.push(removeClearedSpans(found[i])); }\n    return nw\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) { return stretched }\n    if (!stretched) { return old }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            { if (oldCur[k].marker == span.marker) { continue spans } }\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m = (void 0);\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        } } }\n      }\n    }\n    return copy\n  }\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head)\n    } else {\n      return new Range(other || head, head)\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    for (var i = 0; i < doc.sel.ranges.length; i++)\n      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        var this$1 = this;\n\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head)); }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n    else { return sel }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      { sel = filterSelectionChange(doc, sel, options); }\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      { ensureCursorVisible(doc.cm); }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) { return }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) { out = sel.ranges.slice(0, i); }\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n      var sp = line.markedSpans[i], m = sp.marker;\n\n      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n      // is with selectLeft/Right\n      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n        if (mayClear) {\n          signal(m, \"beforeCursorEnter\");\n          if (m.explicitlyCleared) {\n            if (!line.markedSpans) { break }\n            else {--i; continue}\n          }\n        }\n        if (!m.atomic) { continue }\n\n        if (oldPos) {\n          var near = m.find(dir < 0 ? 1 : -1), diff = (void 0);\n          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n        }\n\n        var far = m.find(dir < 0 ? -1 : 1);\n        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n      }\n    } }\n    return pos\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0)\n    }\n    return found\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n      else { return null }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n      else { return null }\n    } else {\n      return new Pos(pos.line, pos.ch + dir)\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  }\n\n  // UPDATING\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () { return obj.canceled = true; }\n    };\n    if (update) { obj.update = function (from, to, text, origin) {\n      if (from) { obj.from = clipPos(doc, from); }\n      if (to) { obj.to = clipPos(doc, to); }\n      if (text) { obj.text = text; }\n      if (origin !== undefined) { obj.origin = origin; }\n    }; }\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n    if (obj.canceled) {\n      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n      return null\n    }\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n      if (doc.cm.state.suppressEdits) { return }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) { return }\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n    if (suppress && !allowSelectionOnly) { return }\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    var i = 0;\n    for (; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        { break }\n    }\n    if (i == source.length) { return }\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return\n        }\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return\n      } else { break }\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function ( i ) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {}\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop( i$1 );\n\n      if ( returned ) return returned.v;\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) { return }\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n      Pos(range.anchor.line + distance, range.anchor.ch),\n      Pos(range.head.line + distance, range.head.ch)\n    ); }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        { regLineChange(doc.cm, l, \"gutter\"); }\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return\n    }\n    if (change.from.line > doc.lastLine()) { return }\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n    else { updateDoc(doc, change, spans); }\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n      { doc.cantEdit = false; }\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      { signalCursorActivity(cm); }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      { regChange(cm); }\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      { regLineChange(cm, from.line, \"text\"); }\n    else\n      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) { to = from; }\n    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n    if (typeof code == \"string\") { code = doc.splitLines(code); }\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue\n      }\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n    else { no = lineNo(handle); }\n    if (no == null) { return null }\n    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n    return line\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    var this$1 = this;\n\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this$1;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length },\n\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this$1.lines[i];\n        this$1.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1; }\n    },\n\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var e = at + n; at < e; ++at)\n        { if (op(this$1.lines[at])) { return true } }\n    }\n  };\n\n  function BranchChunk(children) {\n    var this$1 = this;\n\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this$1;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size },\n\n    removeInner: function(at, n) {\n      var this$1 = this;\n\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this$1.height -= oldHeight - child.height;\n          if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n\n    collapse: function(lines) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines); }\n    },\n\n    insertInner: function(at, lines, height) {\n      var this$1 = this;\n\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this$1.children.splice(++i, 0, leaf);\n              leaf.parent = this$1;\n            }\n            child.lines = child.lines.slice(0, remaining);\n            this$1.maybeSpill();\n          }\n          break\n        }\n        at -= sz;\n      }\n    },\n\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) { return }\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n       } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10)\n      me.parent.maybeSpill();\n    },\n\n    iterN: function(at, n, op) {\n      var this$1 = this;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this$1.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) { return true }\n          if ((n -= used) == 0) { break }\n          at = 0;\n        } else { at -= sz; }\n      }\n    }\n  };\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function(doc, node, options) {\n    var this$1 = this;\n\n    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n      { this$1[opt] = options[opt]; } } }\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n      var this$1 = this;\n\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) { return }\n    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1); } }\n    if (!ws.length) { line.widgets = null; }\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n      var this$1 = this;\n\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) { return }\n    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      { addToScrollTop(cm, diff); }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) { widgets.push(widget); }\n      else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget); }\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n        cm.curOp.forceUpdate = true;\n      }\n      return true\n    });\n    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n    return widget\n  }\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  var TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) { startOperation(cm); }\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n      else if (cm) {\n        if (span.to != null) { max = lineNo(line); }\n        if (span.from != null) { min = lineNo(line); }\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)\n        { updateLineHeight(line, textHeight(cm.display)); }\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n      var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    } }\n\n    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) { reCheckSelection(cm.doc); }\n    }\n    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n    if (withOp) { endOperation(cm); }\n    if (this.parent) { this.parent.clear(); }\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function (side, lineObj) {\n      var this$1 = this;\n\n    if (side == null && this.type == \"bookmark\") { side = 1; }\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this$1.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this$1);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) { return from }\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) { return to }\n      }\n    }\n    return from && {from: from, to: to}\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function () {\n      var this$1 = this;\n\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) { return }\n    runInOp(cm, function () {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          { updateLineHeight(line, line.height + dHeight); }\n      }\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n    }\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp\n      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n  eventMixin(TextMarker);\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) { copyObj(options, marker, false); }\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      { return marker }\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory)\n      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        { updateMaxLine = true; }\n      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n    }); }\n\n    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n      if (doc.history.done.length || doc.history.undone.length)\n        { doc.clearHistory(); }\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n      if (marker.collapsed)\n        { regChange(cm, from.line, to.line + 1); }\n      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n               marker.attributes || marker.title)\n        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n      if (marker.atomic) { reCheckSelection(cm.doc); }\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = function(markers, primary) {\n    var this$1 = this;\n\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      { markers[i].parent = this$1; }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n      var this$1 = this;\n\n    if (this.explicitlyCleared) { return }\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      { this$1.markers[i].clear(); }\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj)\n  };\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) { options.widgetNode = widget.cloneNode(true); }\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        { if (doc.linked[i].isParent) { return } }\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary)\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function ( i ) {\n      var marker = markers[i], linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop( i );\n  }\n\n  var nextDocId = 0;\n  var Doc = function(text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n    if (firstLine == null) { firstLine = 0; }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") { text = this.splitLines(text); }\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) { this.iterN(from - this.first, to - from, op); }\n      else { this.iterN(this.first, this.first + this.size, from); }\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) { return lines }\n      return lines.join(lineSep || this.lineSeparator())\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n    getLineNumber: function(line) {return lineNo(line)},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") { line = getLine(this, line); }\n      return visualLine(line)\n    },\n\n    lineCount: function() {return this.size},\n    firstLine: function() {return this.first},\n    lastLine: function() {return this.first + this.size - 1},\n\n    clipPos: function(pos) {return clipPos(this, pos)},\n\n    getCursor: function(start) {\n      var range$$1 = this.sel.primary(), pos;\n      if (start == null || start == \"head\") { pos = range$$1.head; }\n      else if (start == \"anchor\") { pos = range$$1.anchor; }\n      else if (start == \"end\" || start == \"to\" || start === false) { pos = range$$1.to(); }\n      else { pos = range$$1.from(); }\n      return pos\n    },\n    listSelections: function() { return this.sel.ranges },\n    somethingSelected: function() {return this.sel.somethingSelected()},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      var this$1 = this;\n\n      if (!ranges.length) { return }\n      var out = [];\n      for (var i = 0; i < ranges.length; i++)\n        { out[i] = new Range(clipPos(this$1, ranges[i].anchor),\n                           clipPos(this$1, ranges[i].head)); }\n      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var this$1 = this;\n\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) { return lines }\n      else { return lines.join(lineSep || this.lineSeparator()) }\n    },\n    getSelections: function(lineSep) {\n      var this$1 = this;\n\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this$1, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()); }\n        parts[i] = sel;\n      }\n      return parts\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        { dup[i] = code; }\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var this$1 = this;\n\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range$$1 = sel.ranges[i];\n        changes[i] = {from: range$$1.from(), to: range$$1.to(), text: this$1.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n        { makeChange(this$1, changes[i$1]); }\n      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n      else if (this.cm) { ensureCursorVisible(this.cm); }\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n      return {undo: done, redo: undone}\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n      return this.history.generation\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration)\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)}\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n        return true\n      })\n    }),\n\n    clearGutter: docMethodOp(function(gutterID) {\n      var this$1 = this;\n\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n            return true\n          });\n        }\n      });\n    }),\n\n    lineInfo: function(line) {\n      var n;\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) { return null }\n        n = line;\n        line = getLine(this, line);\n        if (!line) { return null }\n      } else {\n        n = lineNo(line);\n        if (n == null) { return null }\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets}\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) { line[prop] = cls; }\n        else if (classTest(cls).test(line[prop])) { return false }\n        else { line[prop] += \" \" + cls; }\n        return true\n      })\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) { return false }\n        else if (cls == null) { line[prop] = null; }\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) { return false }\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true\n      })\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options)\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\")\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) { for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          { markers.push(span.marker.parent || span.marker); }\n      } }\n      return markers\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo$$1 = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n        if (spans) { for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(span.to != null && lineNo$$1 == from.line && from.ch >= span.to ||\n                span.from == null && lineNo$$1 != from.line ||\n                span.from != null && lineNo$$1 == to.line && span.from >= to.ch) &&\n              (!filter || filter(span.marker)))\n            { found.push(span.marker.parent || span.marker); }\n        } }\n        ++lineNo$$1;\n      });\n      return found\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n        if (sps) { for (var i = 0; i < sps.length; ++i)\n          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n      });\n      return markers\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo$$1 = this.first, sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n        if (sz > off) { ch = off; return true }\n        off -= sz;\n        ++lineNo$$1;\n      });\n      return clipPos(this, Pos(lineNo$$1, ch))\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) { return 0 }\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc\n    },\n\n    linkedDoc: function(options) {\n      if (!options) { options = {}; }\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) { from = options.from; }\n      if (options.to != null && options.to < to) { to = options.to; }\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n      if (options.sharedHist) { copy.history = this.history\n      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy\n    },\n    unlinkDoc: function(other) {\n      var this$1 = this;\n\n      if (other instanceof CodeMirror) { other = other.doc; }\n      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n        var link = this$1.linked[i];\n        if (link.doc != other) { continue }\n        this$1.linked.splice(i, 1);\n        other.unlinkDoc(this$1);\n        detachSharedMarkers(findSharedMarkers(this$1));\n        break\n      } }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode},\n    getEditor: function() {return this.cm},\n\n    splitLines: function(str) {\n      if (this.lineSep) { return str.split(this.lineSep) }\n      return splitLinesAuto(str)\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") { dir = \"ltr\"; }\n      if (dir == this.direction) { return }\n      this.direction = dir;\n      this.iter(function (line) { return line.order = null; });\n      if (this.cm) { directionChanged(this.cm); }\n    })\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      { return }\n    e_preventDefault(e);\n    if (ie) { lastDrop = +new Date; }\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || cm.isReadOnly()) { return }\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function (file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          { return }\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function () {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) { content = \"\"; }\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) { loadFile(files[i], i); }\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function () { return cm.display.input.focus(); }, 20);\n        return\n      }\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n        if (text$1) {\n          var selected;\n          if (cm.state.draggingText && !cm.state.draggingText.copy)\n            { selected = cm.listSelections(); }\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\";\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) { img.parentNode.removeChild(img); }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) { return }\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) { return }\n    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) { editors.push(cm); }\n    }\n    if (editors.length) { editors[0].operation(function () {\n      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n    }); }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) { return }\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100); }\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n  }\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n\n  // Number keys\n  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n  // Alphabetic keys\n  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n  // Function keys\n  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n  var keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n    }\n    if (alt) { name = \"Alt-\" + name; }\n    if (ctrl) { name = \"Ctrl-\" + name; }\n    if (cmd) { name = \"Cmd-\" + name; }\n    if (shift) { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n      if (value == \"...\") { delete keymap[keyname]; continue }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val = (void 0), name = (void 0);\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) { copy[name] = val; }\n        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n      }\n      delete keymap[keyname];\n    } }\n    for (var prop in copy) { keymap[prop] = copy[prop]; }\n    return keymap\n  }\n\n  function lookupKey(key, map$$1, handle, context) {\n    map$$1 = getKeyMap(map$$1);\n    var found = map$$1.call ? map$$1.call(key, context) : map$$1[key];\n    if (found === false) { return \"nothing\" }\n    if (found === \"...\") { return \"multi\" }\n    if (found != null && handle(found)) { return \"handled\" }\n\n    if (map$$1.fallthrough) {\n      if (Object.prototype.toString.call(map$$1.fallthrough) != \"[object Array]\")\n        { return lookupKey(key, map$$1.fallthrough, handle, context) }\n      for (var i = 0; i < map$$1.fallthrough.length; i++) {\n        var result = lookupKey(key, map$$1.fallthrough[i], handle, context);\n        if (result) { return result }\n      }\n    }\n  }\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") { name = \"Cmd-\" + name; }\n    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n    return name\n  }\n\n  // Look up the name of a key as indicated by an event object.\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n    var name = keyNames[event.keyCode];\n    if (name == null || event.altGraphKey) { return false }\n    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n    if (event.keyCode == 3 && event.code) { name = event.code; }\n    return addModifierNames(name, event, noShift)\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      var order = getOrder(lineObj, cm.doc.direction);\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch;\n        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n        } else { ch = dir < 0 ? part.to : part.from; }\n        return new Pos(lineNo, ch, sticky)\n      }\n    }\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n    if (!bidi) { return moveLogically(line, start, dir) }\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir)\n    }\n\n    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n    var prep;\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch)\n    };\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky)\n      }\n    }\n\n    // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n        ? new Pos(start.line, mv(ch, 1), \"before\")\n        : new Pos(start.line, ch, \"after\"); };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n      }\n    };\n\n    // Case 3a: Look for other bidi parts on the same visual line\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n    if (res) { return res }\n\n    // Case 3b: Look for other bidi parts on the next visual line\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n      if (res) { return res }\n    }\n\n    // Case 4: Nowhere to move\n    return null\n  }\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n      if (range.empty()) {\n        var len = getLine(cm.doc, range.head.line).text.length;\n        if (range.head.ch == len && range.head.line < cm.lastLine())\n          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n        else\n          { return {from: range.head, to: Pos(range.head.line, len)} }\n      } else {\n        return {from: range.from(), to: range.to()}\n      }\n    }); },\n    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0),\n      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n    }); }); },\n    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n      from: Pos(range.from().line, 0), to: range.from()\n    }); }); },\n    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n      return {from: leftPos, to: range.from()}\n    }); },\n    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n      var top = cm.charCoords(range.head, \"div\").top + 5;\n      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      return {from: range.from(), to: rightPos }\n    }); },\n    undo: function (cm) { return cm.undo(); },\n    redo: function (cm) { return cm.redo(); },\n    undoSelection: function (cm) { return cm.undoSelection(); },\n    redoSelection: function (cm) { return cm.redoSelection(); },\n    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n      {origin: \"+move\", bias: 1}\n    ); },\n    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n      {origin: \"+move\", bias: -1}\n    ); },\n    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      return cm.coordsChar({left: 0, top: top}, \"div\")\n    }, sel_move); },\n    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n      return pos\n    }, sel_move); },\n    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n    delCharBefore: function (cm) { return cm.deleteH(-1, \"char\"); },\n    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n    insertSoftTab: function (cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n      else { cm.execCommand(\"insertTab\"); }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) { return runInOp(cm, function () {\n      var ranges = cm.listSelections(), newSel = [];\n      for (var i = 0; i < ranges.length; i++) {\n        if (!ranges[i].empty()) { continue }\n        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n        if (line) {\n          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n          if (cur.ch > 0) {\n            cur = new Pos(cur.line, cur.ch + 1);\n            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n          } else if (cur.line > cm.doc.first) {\n            var prev = getLine(cm.doc, cur.line - 1).text;\n            if (prev) {\n              cur = new Pos(cur.line, 1);\n              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                              prev.charAt(prev.length - 1),\n                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n            }\n          }\n        }\n        newSel.push(new Range(cur, cur));\n      }\n      cm.setSelections(newSel);\n    }); },\n    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n      var sels = cm.listSelections();\n      for (var i = sels.length - 1; i >= 0; i--)\n        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n      sels = cm.listSelections();\n      for (var i$1 = 0; i$1 < sels.length; i$1++)\n        { cm.indentLine(sels[i$1].from().line, null, true); }\n      ensureCursorVisible(cm);\n    }); },\n    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n  };\n\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, visual, lineN, 1)\n  }\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n    if (visual != line) { lineN = lineNo(visual); }\n    return endOfLine(true, cm, line, lineN, -1)\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n    }\n    return start\n  }\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) { return false }\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n      if (dropShift) { cm.display.shift = false; }\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) { return result }\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm)\n  }\n\n  // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n  var stopSeq = new Delayed;\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) { return \"handled\" }\n      if (/\\'$/.test(name))\n        { cm.state.keySeq = null; }\n      else\n        { stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        }); }\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n    }\n    return dispatchKeyInner(cm, name, e, handle)\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      { cm.state.keySeq = name; }\n    if (result == \"handled\")\n      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) { return false }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n          || dispatchKey(cm, name, e, function (b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 { return doHandleBinding(cm, b) }\n             })\n    } else {\n      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) { return }\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        { cm.replaceSelection(\"\", null, \"cut\"); }\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      { showCrossHair(cm); }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    // Some browsers fire keypress events for backspace\n    if (ch == \"\\x08\") { return }\n    if (handleCharBinding(cm, e, ch)) { return }\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function(time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time &&\n      cmp(pos, this.pos) == 0 && button == this.button\n  };\n\n  var lastClick, lastDoubleClick;\n  function clickRepeat(pos, button) {\n    var now = +new Date;\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\"\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\"\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\"\n    }\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n      }\n      return\n    }\n    if (clickInGutter(cm, e)) { return }\n    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus();\n\n    // #3261: make sure, that we're not starting a second selection\n    if (button == 1 && cm.state.selectingText)\n      { cm.state.selectingText(e); }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n    if (button == 1) {\n      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n    } else if (button == 2) {\n      if (pos) { extendSelection(cm.doc, pos); }\n      setTimeout(function () { return display.input.focus(); }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n      else { delayBlurEvent(cm); }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n    if (repeat == \"double\") { name = \"Double\" + name; }\n    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") { bound = commands[bound]; }\n      if (!bound) { return false }\n      var done = false;\n      try {\n        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n      return done\n    })\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n    return value\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n    else { cm.curOp.focus = activeElt(); }\n\n    var behavior = configureMouse(cm, repeat, event);\n\n    var sel = cm.doc.sel, contained;\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n      { leftButtonStartDrag(cm, event, pos, behavior); }\n    else\n      { leftButtonSelect(cm, event, pos, behavior); }\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display, moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) { display.scroller.draggable = false; }\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n      if (!moved) {\n        e_preventDefault(e);\n        if (!behavior.addNew)\n          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          { setTimeout(function () {display.wrapper.ownerDocument.body.focus(); display.input.focus();}, 20); }\n        else\n          { display.input.focus(); }\n      }\n    });\n    var mouseMove = function(e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n    var dragStart = function () { return moved = true; };\n    // Let the drag handler handle this.\n    if (webkit) { display.scroller.draggable = true; }\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n\n    delayBlurEvent(cm);\n    setTimeout(function () { return display.input.focus(); }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") { return new Range(pos, pos) }\n    if (unit == \"word\") { return cm.findWordAt(pos) }\n    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to)\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(event);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        { ourRange = ranges[ourIndex]; }\n      else\n        { ourRange = new Range(start, start); }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) { ourRange = new Range(start, start); }\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range$$1 = rangeForUnit(cm, start, behavior.unit);\n      if (behavior.extend)\n        { ourRange = extendRange(ourRange, range$$1.anchor, range$$1.head, behavior.extend); }\n      else\n        { ourRange = range$$1; }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) { return }\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n          else if (text.length > leftPos)\n            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n        }\n        if (!ranges.length) { ranges.push(new Range(start, start)); }\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range$$1 = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor, head;\n        if (cmp(range$$1.anchor, anchor) > 0) {\n          head = range$$1.head;\n          anchor = minPos(oldRange.from(), range$$1.anchor);\n        } else {\n          head = range$$1.anchor;\n          anchor = maxPos(oldRange.to(), range$$1.head);\n        }\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n      if (!cur) { return }\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) { setTimeout(operation(cm, function () {\n          if (counter != curCount) { return }\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50); }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) { done(e); }\n      else { extend(e); }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  }\n\n  // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n  function bidiSimplify(cm, range$$1) {\n    var anchor = range$$1.anchor;\n    var head = range$$1.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range$$1 }\n    var order = getOrder(anchorLine);\n    if (!order) { return range$$1 }\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n    if (part.from != anchor.ch && part.to != anchor.ch) { return range$$1 }\n    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n    if (boundary == 0 || boundary == order.length) { return range$$1 }\n\n    // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n    var leftSide;\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n      if (headIndex == boundary - 1 || headIndex == boundary)\n        { leftSide = dir < 0; }\n      else\n        { leftSide = dir > 0; }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range$$1 : new Range(new Pos(anchor.line, ch, sticky), head)\n  }\n\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try { mX = e.clientX; mY = e.clientY; }\n      catch(e) { return false }\n    }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n    if (prevent) { e_preventDefault(e); }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e)\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true)\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n      if (handle) { optionHandlers[name] =\n        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n    }\n\n    CodeMirror.defineOption = option;\n\n    // Passed to option handlers when there is no old value.\n    CodeMirror.Init = Init;\n\n    // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n      if (!val) { return }\n      var newBreaks = [], lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n          if (found == -1) { break }\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n        lineNo++;\n      });\n      for (var i = newBreaks.length - 1; i >= 0; i--)\n        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n      if (old != Init) { cm.refresh(); }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n      if (prev && prev.detach) { prev.detach(cm, next); }\n      if (next.attach) { next.attach(cm, prev || null); }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) { cm.display.input.resetPosition(); }\n    });\n\n    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () { return updateScrollbars(cm); }, 100);\n  }\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n    else if (options.mode) { doc.modeOption = options.mode; }\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n    if (options.lineWrapping)\n      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) { display.input.focus(); }\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20); }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || this.hasFocus())\n      { setTimeout(bind(onFocus, this), 20); }\n    else\n      { onBlur(this); }\n\n    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n      { optionHandlers[opt](this$1, options[opt], Init); } }\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) { options.finishInit(this); }\n    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1); }\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      { display.lineDiv.style.textRendering = \"auto\"; }\n  }\n\n  // The default configuration options.\n  CodeMirror.defaults = defaults;\n  // Functions to run when options are changed.\n  CodeMirror.optionHandlers = optionHandlers;\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) { return }\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      })); }\n    else\n      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    }\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) { return false }\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1\n    }\n    function farAway(touch, other) {\n      if (other.left == null) { return true }\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20\n    }\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) { d.activeTouch.moved = true; }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          { range = new Range(pos, pos); }\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          { range = cm.findWordAt(pos); }\n        else // Triple tap\n          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function (e) { return onDragStart(cm, e); },\n      drop: operation(cm, onDrop),\n      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n  }\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) { how = \"add\"; }\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) { how = \"prev\"; }\n      else { state = getContextBefore(cm, n).state; }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) { line.stateAfter = null; }\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) { return }\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n      else { indentation = 0; }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break\n        }\n      }\n    }\n  }\n\n  // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) { sel = doc.sel; }\n\n    var recent = +new Date - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted), multiPaste = null;\n    // When pasting N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.text.length; i++)\n            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) { return [l]; });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput;\n    // Normal behavior is to insert the new text into every selection\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range$$1 = sel.ranges[i$1];\n      var from = range$$1.from(), to = range$$1.to();\n      if (range$$1.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          { from = Pos(from.line, from.ch - deleted); }\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted)\n          { from = to = Pos(from.line, 0); }\n      }\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      { triggerElectric(cm, inserted); }\n\n    ensureCursorVisible(cm);\n    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n    if (pasted) {\n      e.preventDefault();\n      if (!cm.isReadOnly() && !cm.options.disableInput)\n        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n      return true\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range$$1 = sel.ranges[i];\n      if (range$$1.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range$$1.head.line)) { continue }\n      var mode = cm.getModeAt(range$$1.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range$$1.head.line, \"smart\");\n            break\n          } }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range$$1.head.line).text.slice(0, range$$1.head.ch)))\n          { indented = indentLine(cm, range$$1.head.line, \"smart\"); }\n      }\n      if (indented) { signalLater(cm, \"electricInput\", cm, range$$1.head.line); }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges}\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) { te.style.width = \"1000px\"; }\n    else { te.setAttribute(\"wrap\", \"off\"); }\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) { te.style.border = \"1px solid black\"; }\n    disableBrowserMagic(te);\n    return div\n  }\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    var helpers = CodeMirror.helpers = {};\n\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function(){window.focus(); this.display.input.focus();},\n\n      setOption: function(option, value) {\n        var options = this.options, old = options[option];\n        if (options[option] == value && option != \"mode\") { return }\n        options[option] = value;\n        if (optionHandlers.hasOwnProperty(option))\n          { operation(this, optionHandlers[option])(this, value, old); }\n        signal(this, \"optionChange\", this, option);\n      },\n\n      getOption: function(option) {return this.options[option]},\n      getDoc: function() {return this.doc},\n\n      addKeyMap: function(map$$1, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map$$1));\n      },\n      removeKeyMap: function(map$$1) {\n        var maps = this.state.keyMaps;\n        for (var i = 0; i < maps.length; ++i)\n          { if (maps[i] == map$$1 || maps[i].name == map$$1) {\n            maps.splice(i, 1);\n            return true\n          } }\n      },\n\n      addOverlay: methodOp(function(spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n        insertSorted(this.state.overlays,\n                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n                      priority: (options && options.priority) || 0},\n                     function (overlay) { return overlay.priority; });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function(spec) {\n        var this$1 = this;\n\n        var overlays = this.state.overlays;\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this$1.state.modeGen++;\n            regChange(this$1);\n            return\n          }\n        }\n      }),\n\n      indentLine: methodOp(function(n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n          else { dir = dir ? \"add\" : \"subtract\"; }\n        }\n        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n      }),\n      indentSelection: methodOp(function(how) {\n        var this$1 = this;\n\n        var ranges = this.doc.sel.ranges, end = -1;\n        for (var i = 0; i < ranges.length; i++) {\n          var range$$1 = ranges[i];\n          if (!range$$1.empty()) {\n            var from = range$$1.from(), to = range$$1.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n            for (var j = start; j < end; ++j)\n              { indentLine(this$1, j, how); }\n            var newRanges = this$1.doc.sel.ranges;\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n              { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n          } else if (range$$1.head.line > end) {\n            indentLine(this$1, range$$1.head.line, how, true);\n            end = range$$1.head.line;\n            if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1); }\n          }\n        }\n      }),\n\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function(pos, precise) {\n        return takeToken(this, pos, precise)\n      },\n\n      getLineTokens: function(line, precise) {\n        return takeToken(this, Pos(line), precise, true)\n      },\n\n      getTokenTypeAt: function(pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n        var type;\n        if (ch == 0) { type = styles[2]; }\n        else { for (;;) {\n          var mid = (before + after) >> 1;\n          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n          else { type = styles[mid * 2 + 2]; break }\n        } }\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n      },\n\n      getModeAt: function(pos) {\n        var mode = this.doc.mode;\n        if (!mode.innerMode) { return mode }\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n      },\n\n      getHelper: function(pos, type) {\n        return this.getHelpers(pos, type)[0]\n      },\n\n      getHelpers: function(pos, type) {\n        var this$1 = this;\n\n        var found = [];\n        if (!helpers.hasOwnProperty(type)) { return found }\n        var help = helpers[type], mode = this.getModeAt(pos);\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) { found.push(help[mode[type]]); }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n            if (val) { found.push(val); }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n          if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)\n            { found.push(cur.val); }\n        }\n        return found\n      },\n\n      getStateAfter: function(line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n        return getContextBefore(this, line + 1, precise).state\n      },\n\n      cursorCoords: function(start, mode) {\n        var pos, range$$1 = this.doc.sel.primary();\n        if (start == null) { pos = range$$1.head; }\n        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n        else { pos = start ? range$$1.from() : range$$1.to(); }\n        return cursorCoords(this, pos, mode || \"page\")\n      },\n\n      charCoords: function(pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n      },\n\n      coordsChar: function(coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top)\n      },\n\n      lineAtHeight: function(height, mode) {\n        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset)\n      },\n      heightAtLine: function(line, mode, includeWidgets) {\n        var end = false, lineObj;\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n          if (line < this.doc.first) { line = this.doc.first; }\n          else if (line > last) { line = last; end = true; }\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n      },\n\n      defaultTextHeight: function() { return textHeight(this.display) },\n      defaultCharWidth: function() { return charWidth(this.display) },\n\n      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n      addWidget: function(pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom, left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n          // Default to positioning above (if specified and possible); otherwise default to positioning below\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n            { top = pos.top - node.offsetHeight; }\n          else if (pos.bottom + node.offsetHeight <= vspace)\n            { top = pos.bottom; }\n          if (left + node.offsetWidth > hspace)\n            { left = hspace - node.offsetWidth; }\n        }\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") { left = 0; }\n          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n          node.style.left = left + \"px\";\n        }\n        if (scroll)\n          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n      },\n\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n\n      execCommand: function(cmd) {\n        if (commands.hasOwnProperty(cmd))\n          { return commands[cmd].call(null, this) }\n      },\n\n      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n      findPosH: function(from, amount, unit, visually) {\n        var this$1 = this;\n\n        var dir = 1;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this$1.doc, cur, dir, unit, visually);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveH: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        this.extendSelectionsBy(function (range$$1) {\n          if (this$1.display.shift || this$1.doc.extend || range$$1.empty())\n            { return findPosH(this$1.doc, range$$1.head, dir, unit, this$1.options.rtlMoveVisually) }\n          else\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n        }, sel_move);\n      }),\n\n      deleteH: methodOp(function(dir, unit) {\n        var sel = this.doc.sel, doc = this.doc;\n        if (sel.somethingSelected())\n          { doc.replaceSelection(\"\", null, \"+delete\"); }\n        else\n          { deleteNearSelection(this, function (range$$1) {\n            var other = findPosH(doc, range$$1.head, dir, unit, false);\n            return dir < 0 ? {from: other, to: range$$1.head} : {from: range$$1.head, to: other}\n          }); }\n      }),\n\n      findPosV: function(from, amount, unit, goalColumn) {\n        var this$1 = this;\n\n        var dir = 1, x = goalColumn;\n        if (amount < 0) { dir = -1; amount = -amount; }\n        var cur = clipPos(this.doc, from);\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this$1, cur, \"div\");\n          if (x == null) { x = coords.left; }\n          else { coords.left = x; }\n          cur = findPosV(this$1, coords, dir, unit);\n          if (cur.hitSide) { break }\n        }\n        return cur\n      },\n\n      moveV: methodOp(function(dir, unit) {\n        var this$1 = this;\n\n        var doc = this.doc, goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range$$1) {\n          if (collapse)\n            { return dir < 0 ? range$$1.from() : range$$1.to() }\n          var headPos = cursorCoords(this$1, range$$1.head, \"div\");\n          if (range$$1.goalColumn != null) { headPos.left = range$$1.goalColumn; }\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n          if (unit == \"page\" && range$$1 == doc.sel.primary())\n            { addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top); }\n          return pos\n        }, sel_move);\n        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n      }),\n\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function(pos) {\n        var doc = this.doc, line = getLine(doc, pos.line).text;\n        var start = pos.ch, end = pos.ch;\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper)\n            ? function (ch) { return isWordChar(ch, helper); }\n            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n          while (end < line.length && check(line.charAt(end))) { ++end; }\n        }\n        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n      },\n\n      toggleOverwrite: function(value) {\n        if (value != null && value == this.state.overwrite) { return }\n        if (this.state.overwrite = !this.state.overwrite)\n          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n        else\n          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function() { return this.display.input.getField() == activeElt() },\n      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n      getScrollInfo: function() {\n        var scroller = this.display.scroller;\n        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n      },\n\n      scrollIntoView: methodOp(function(range$$1, margin) {\n        if (range$$1 == null) {\n          range$$1 = {from: this.doc.sel.primary().head, to: null};\n          if (margin == null) { margin = this.options.cursorScrollMargin; }\n        } else if (typeof range$$1 == \"number\") {\n          range$$1 = {from: Pos(range$$1, 0), to: null};\n        } else if (range$$1.from == null) {\n          range$$1 = {from: range$$1, to: null};\n        }\n        if (!range$$1.to) { range$$1.to = range$$1.from; }\n        range$$1.margin = margin || 0;\n\n        if (range$$1.from.line != null) {\n          scrollToRange(this, range$$1);\n        } else {\n          scrollToCoordsRange(this, range$$1.from, range$$1.to, range$$1.margin);\n        }\n      }),\n\n      setSize: methodOp(function(width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n        var lineNo$$1 = this.display.viewFrom;\n        this.doc.iter(lineNo$$1, this.display.viewTo, function (line) {\n          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n            { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo$$1, \"widget\"); break } } }\n          ++lineNo$$1;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n\n      operation: function(f){return runInOp(this, f)},\n      startOperation: function(){return startOperation(this)},\n      endOperation: function(){return endOperation(this)},\n\n      refresh: methodOp(function() {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n          { estimateLineHeights(this); }\n        signal(this, \"refresh\", this);\n      }),\n\n      swapDoc: methodOp(function(doc) {\n        var old = this.doc;\n        old.cm = null;\n        // Cancel the current text selection if any (#5821)\n        if (this.state.selectingText) { this.state.selectingText(); }\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old\n      }),\n\n      phrase: function(phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n      },\n\n      getInputField: function(){return this.display.input.getField()},\n      getWrapperElement: function(){return this.display.wrapper},\n      getScrollerElement: function(){return this.display.scroller},\n      getGutterElement: function(){return this.display.gutters}\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function(type, name, value) {\n      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n      helpers[type][name] = value;\n    };\n    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n      helpers[type]._global.push({pred: predicate, val: value});\n    };\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    function findNextLine() {\n      var l = pos.line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) { return false }\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l)\n    }\n    function moveOnce(boundToLine) {\n      var next;\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n      if (next == null) {\n        if (!boundToLine && findNextLine())\n          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, dir); }\n        else\n          { return false }\n      } else {\n        pos = next;\n      }\n      return true\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) { break }\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) { type = \"s\"; }\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n          break\n        }\n\n        if (type) { sawType = type; }\n        if (dir > 0 && !moveOnce(!first)) { break }\n      }\n    }\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n    return result\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    var target;\n    for (;;) {\n      target = coordsChar(cm, x, y);\n      if (!target.outside) { break }\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n      y += dir * 5;\n    }\n    return target\n  }\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  var ContentEditableInput = function(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1.updateFromDOM(); }), 20); }\n    });\n\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {data: e.data, done: false};\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) { this$1.composing = {data: e.data, done: false}; }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon(); }\n        this$1.composing.done = true;\n      }\n    });\n\n    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n    on(div, \"input\", function () {\n      if (!this$1.composing) { this$1.readFromDOMSoon(); }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\");\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        e.clipboardData.setData(\"Text\", content);\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return\n        }\n      }\n      // Old-fashioned briefly-focus-a-textarea hack\n      var kludge = hiddenTextarea(), te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n        if (hadFocus == div) { input.showPrimarySelection(); }\n      }, 50);\n    }\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = this.cm.state.focused;\n    return result\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) { return }\n    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection()\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n    var from = prim.from(), to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n        cmp(maxPos(curAnchor, curFocus), to) == 0)\n      { return }\n\n    var view = cm.display.view;\n    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n        {node: view[0].measure.map[2], offset: 0};\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map$$1 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {node: map$$1[map$$1.length - 1], offset: map$$1[map$$1.length - 2] - map$$1[map$$1.length - 3]};\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n    try { rng = range(start.node, start.offset, end.offset, end.node); }\n    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n      if (old && sel.anchorNode == null) { sel.addRange(old); }\n      else if (gecko) { this.startGracePeriod(); }\n    }\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n      var this$1 = this;\n\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n      if (this$1.selectionChanged())\n        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }); }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n    if (!sel.rangeCount) { return false }\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node)\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor())\n        { this.showSelection(this.prepareSelection(), true); }\n      this.div.focus();\n    }\n  };\n  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n  ContentEditableInput.prototype.getField = function () { return this.div };\n\n  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n    if (this.selectionInEditor())\n      { this.pollSelection(); }\n    else\n      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n    var sel = this.getSelection(), cm = this.cm;\n    // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n      this.blur();\n      this.focus();\n      return\n    }\n    if (this.composing) { return }\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n    if (anchor && head) { runInOp(cm, function () {\n      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n    }); }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n    var from = sel.from(), to = sel.to();\n    if (from.ch == 0 && from.line > cm.firstLine())\n      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n      { to = Pos(to.line + 1, 0); }\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n    var fromIndex, fromLine, fromNode;\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) { return false }\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n      else { break }\n    }\n\n    var cutFront = 0, cutEnd = 0;\n    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n      { ++cutFront; }\n    var newBot = lst(newText), oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n    while (cutEnd < maxCutEnd &&\n           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n      { ++cutEnd; }\n    // Try to move start of change to start of selection if ambiguous\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) { return }\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n      var this$1 = this;\n\n    if (this.readDOMTimeout != null) { return }\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n      if (this$1.composing) {\n        if (this$1.composing.done) { this$1.composing = null; }\n        else { return }\n      }\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n      var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent())\n      { runInOp(this.cm, function () { return regChange(this$1.cm); }); }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) { return }\n    e.preventDefault();\n    if (!this.cm.isReadOnly())\n      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) { return null }\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line, cm.doc.direction), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode)\n      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n    return false\n  }\n\n  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n    function close() {\n      if (closing) {\n        text += lineSep;\n        if (extraLinebreak) { text += lineSep; }\n        closing = extraLinebreak = false;\n      }\n    }\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText) {\n          addText(cmText);\n          return\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range$$1;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range$$1 = found[0].find(0)))\n            { addText(getBetween(cm.doc, range$$1.from, range$$1.to).join(lineSep)); }\n          return\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n        if (isBlock) { close(); }\n        for (var i = 0; i < node.childNodes.length; i++)\n          { walk(node.childNodes[i]); }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n        if (isBlock) { closing = true; }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) { break }\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n    return text\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        { return locateNodeInLineView(lineView, node, offset) }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad)\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) { offset = textNode.nodeValue.length; }\n    }\n    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map$$1 = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map$$1.length; j += 3) {\n          var curNode = map$$1[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map$$1[j] + offset;\n            if (offset < 0 || curNode != textNode) { ch = map$$1[j + (offset ? 1 : 0)]; }\n            return Pos(line, ch)\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) { return badPos(found, bad) }\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        { return badPos(Pos(found.line, found.ch - dist), bad) }\n      else\n        { dist += after.textContent.length; }\n    }\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n      else\n        { dist$1 += before.textContent.length; }\n    }\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  var TextareaInput = function(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n      var this$1 = this;\n\n    var input = this, cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n    if (ios) { te.style.width = \"0px\"; }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null; }\n      input.poll();\n    });\n\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n      cm.state.pasteIncoming = +new Date;\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) { return }\n      if (cm.somethingSelected()) {\n        setLastCopied({lineWise: false, text: cm.getSelections()});\n      } else if (!cm.options.lineWiseCopyCut) {\n        return\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({lineWise: true, text: ranges.text});\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n    }\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date;\n        input.focus();\n        return\n      }\n\n      // Pass the `paste` event to the textarea so it's handled by its event listener.\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    });\n\n    // Prevent normal selection in the editor (we handle our own)\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n    });\n\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n      if (input.composing) { input.composing.range.clear(); }\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea();\n    // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm, display = cm.display, doc = cm.doc;\n    var result = prepareSelection(cm);\n\n    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                          headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                           headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm, display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  };\n\n  // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) { return }\n    var cm = this.cm;\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n      if (cm.state.focused) { selectInput(this.textarea); }\n      if (ie && ie_version >= 9) { this.hasSelection = content; }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n      if (ie && ie_version >= 9) { this.hasSelection = null; }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () { return this.textarea };\n\n  TextareaInput.prototype.supportsTouch = function () { return false };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try { this.textarea.focus(); }\n      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n    }\n  };\n\n  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n  // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n  TextareaInput.prototype.slowPoll = function () {\n      var this$1 = this;\n\n    if (this.pollingFast) { return }\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n      if (this$1.cm.state.focused) { this$1.slowPoll(); }\n    });\n  };\n\n  // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false, input = this;\n    input.pollingFast = true;\n    function p() {\n      var changed = input.poll();\n      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n      else {input.pollingFast = false; input.slowPoll();}\n    }\n    input.polling.set(20, p);\n  };\n\n  // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n  TextareaInput.prototype.poll = function () {\n      var this$1 = this;\n\n    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n    // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n    if (this.contextMenuPending || !cm.state.focused ||\n        (hasSelection(input) && !prevInput && !this.composing) ||\n        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n      { return false }\n\n    var text = input.value;\n    // If nothing changed, bail.\n    if (text == prevInput && !cm.somethingSelected()) { return false }\n    // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n    if (ie && ie_version >= 9 && this.hasSelection === text ||\n        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n    }\n    // Find the part of the input that is actually new\n    var same = 0, l = Math.min(prevInput.length, text.length);\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same,\n                     null, this$1.composing ? \"*compose\" : null);\n\n      // Don't leave long text in the textarea, since it makes further polling slow\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1.prevInput = \"\"; }\n      else { this$1.prevInput = text; }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"),\n                                           {className: \"CodeMirror-composing\"});\n      }\n    });\n    return true\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) { this.hasSelection = null; }\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n    if (input.contextMenuPending) { input.contextMenuPending(); }\n    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n    if (!pos || presto) { return } // Opera is difficult.\n\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n    var reset = cm.options.resetSelectionOnContextMenu;\n    if (reset && cm.doc.sel.contains(pos) == -1)\n      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n    if (webkit) { oldScrollY = window.scrollY; } // Work around Chrome issue (#2712)\n    display.input.focus();\n    if (webkit) { window.scrollTo(null, oldScrollY); }\n    display.input.reset();\n    // Adds \"Select all\" to context menu in FF\n    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll);\n\n    // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1; te.selectionEnd = extval.length;\n        // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n    function rehide() {\n      if (input.contextMenuPending != rehide) { return }\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n      // Try to detect the user choosing select-all\n      if (te.selectionStart != null) {\n        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n        var i = 0, poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n    if (captureRightClick) {\n      e_stop(e);\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) { this.reset(); }\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      { options.tabindex = textarea.tabIndex; }\n    if (!options.placeholder && textarea.placeholder)\n      { options.placeholder = textarea.placeholder; }\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n\n    var realSubmit;\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n      cm.getTextArea = function () { return textarea; };\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n            { textarea.form.submit = realSubmit; }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n      options);\n    return cm\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  }\n\n  // EDITOR CONSTRUCTOR\n\n  defineOptions(CodeMirror);\n\n  addEditorMethods(CodeMirror);\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    { CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments)}\n    })(Doc.prototype[prop]); } }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name/*, mode, …*/) {\n    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME;\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n\n  addLegacyProps(CodeMirror);\n\n  CodeMirror.version = \"5.49.2\";\n\n  return CodeMirror;\n\n})));\n"],"file":"codemirror.min.js"}