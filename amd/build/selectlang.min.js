define ("qtype_proforma/selectlang",["core/modal_factory","core/modal_events"],function(a,b){function c(a){var b="<form>";b+="<fieldset>";a.forEach(function(a,c){b+="<p><input id=\"item_"+a[1].toLowerCase()+"\" type=\"radio\" name=\"lang\" value=\""+a[0]+"\"";if(0==c){b+="checked"}b+="> "+a[1]+"</input></p>"});b+="<br>";b+="</fieldset>";b+="</form>";return b}return{select_lang:function select_lang(d,e,f){function g(){a.create({type:a.types.SAVE_CANCEL,title:d,body:c(e),large:!1}).then(function(a){a.setSaveButtonText("Ok");a.getRoot().on(b.save,function(){for(var b=a.getRoot().find("input"),c=0;c<b.length;c++){if(!0==b[c].checked){var d=b[c].value,e=window.location.href;e+="&proglang="+d;window.location.assign(e);return}}});a.getRoot().on(b.cancel,function(){window.location.assign(f)});a.show()}).catch(Notification.exception)}try{g()}catch(a){console.error("Exception caught in select-lang.js function select_lang\n "+a.toString())}}}});
//# sourceMappingURL=selectlang.min.js.map
