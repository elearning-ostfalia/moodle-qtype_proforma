define(["core/modal_factory","core/modal_events"],function(a,b){function c(a){let b="<form>";return b+="<fieldset>",console.log(a),a.forEach(function(a,c){b+="<p><input id=\"item_"+a[1].toLowerCase()+"\" type=\"radio\" name=\"lang\" value=\""+a[0]+"\"",0==c&&(b+="checked"),b+="> "+a[1]+"</input></p>"}),b+="<br>",b+="</fieldset>",b+="</form>",b}return{select_lang:function(d,e,f){try{(function(){a.create({type:a.types.SAVE_CANCEL,title:d,body:c(e),large:!1}).then(function(a){a.setSaveButtonText("Ok"),a.getRoot().on(b.save,function(){let b=a.getRoot().find("input");for(var c=0;c<b.length;c++)if(!0==b[c].checked){let a=b[c].value,d=window.location.href;return d+="&proglang="+a,void window.location.assign(d)}}),a.getRoot().on(b.cancel,function(){window.location.assign(f)}),a.show()}).catch(Notification.exception)})()}catch(a){console.error("Exception caught in select-lang.js function select_lang\n "+a.toString())}}}});