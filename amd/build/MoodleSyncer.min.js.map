{"version":3,"file":"MoodleSyncer.min.js","sources":["../src/MoodleSyncer.js"],"sourcesContent":["// This file is part of ProFormA Question Type for Moodle\n//\n// ProFormA Question Type for Moodle is free software:\n// you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// ProFormA Question Type for Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with ProFormA Question Type for Moodle.\n// If not, see <http://www.gnu.org/licenses/>.\n\n/* eslint-disable max-len */\n/* eslint-disable no-unused-vars */\n\n\nimport Config from 'core/config';\nimport { FileNode } from \"./FileViewer\";\n\n/* Syncer base class */\nexport class Syncer {\n    static splitFullname(path) {\n        const index = path.lastIndexOf('/', path.length-1);\n        if (index < 0) {\n            return ['/', path];\n        }\n        let pathname = path.substring(0, index+1);\n        if (pathname.length > 1) {\n            // Strip trailing /\n            // if (path[pathname.length-1] == '/') {\n            //     pathname = path.substring(0, index);\n            // }\n        }\n        return [pathname, path.substring(index + 1)];\n        // return [path.substring(0, index + 1), path.substring(index + 1)];\n    }\n    constructor(options) {\n        if (new.target === Syncer) {\n            throw new TypeError(\"Cannot construct Syncer instances directly\");\n        }\n        this.options = options;\n        console.log(this.options);\n    }\n    deleteFileOrFolder(path) {\n        return Promise.resolve('fake implentation');\n    }\n    download(path) {\n        return Promise.resolve('fake implentation');\n    }\n    renameFile(pathold, pathnew) {\n        return Promise.resolve('fake implentation');\n    }\n    renameFolder(pathold, pathnew) {\n        return Promise.resolve('fake implentation');\n    }\n    mkdir(path) {\n        return Promise.resolve('fake implentation');\n    }\n    list(framework) {\n        return Promise.resolve('fake implentation');\n    }\n    update(filename, text) {\n        return Promise.resolve('fake implentation');\n    }\n    newfile(filename) {\n        return Promise.resolve('fake implentation');\n    }\n    upload(filename, file, overwrite) {\n        return Promise.resolve('fake implentation');\n    }\n}\n\n\nexport class MoodleQuestionAttemptSyncer extends Syncer {\n    constructor(options) {\n        super(options);\n    }\n    list(framework) {\n//        console.log('Start listing question attempt files');\n//        console.log(this.options['files']);\n        let firstFile = undefined;\n        this.options['files'].forEach(path => {\n            let values = Syncer.splitFullname(path);\n            let node = new FileNode(values[1]);\n            let folder = framework.createPath(values[0]);\n            folder.appendFile(node);\n            if (firstFile === undefined) {\n                firstFile = node;\n                framework.addEditor(node);\n            }\n        });\n        // Dummy\n        return Promise.resolve();\n    }\n    download(path) {\n        const addon = '/question/response_attachments/' +\n            this.options.usageid + '/' +\n            this.options.slot + '/' +\n            this.options.itemid + path;\n        const url = Config.wwwroot + '/pluginfile.php/' + this.options.contextid + addon;\n        console.log('Download response file: ' + url);\n        const promise = fetch(url, { method: 'GET' })\n            .then( response => {\n                if (response.status != 200) {\n                    console.log(response);\n                    throw new Error(response.statusText);\n                }\n                return response;\n            })\n            .then( response => response.text() )\n            .catch( error => {\n                console.error('error:', error);\n                alert(error);\n            });\n        return promise;\n    }\n}\n\n/* Class for synchronizing explorer with draft area */\nexport class MoodleSyncer extends Syncer {\n    constructor(options) {\n        super(options);\n        // this.options = options;\n        // console.log(this.options);\n    }\n    _sendRequest(action, options = undefined) {\n        const url = Config.wwwroot + '/repository/draftfiles_ajax.php';\n        let params = {};\n        params['sesskey'] = Config.sesskey;\n        params['client_id'] = this.options['client_id'];\n        params['itemid'] = this.options['itemid'];\n        if (options !== undefined) {\n            params = Object.assign(params, options);\n        }\n        console.log('action ' + action);\n        console.log(params);\n        // const promise =\n        return fetch(\n            url + '?action=' + action + '&' + window.build_querystring(params),\n            {\n                method: 'POST',\n            }\n        )\n            // .then( response => console.log(response))\n            .then( response => response.json() )\n            .then( json => {\n                console.log('got response for requested action ' + action);\n                if (json.error) {\n                    console.error(action + ' error:', json.error);\n                    throw new Error(json.error);\n//                    alert(json.error);\n                }\n                console.log(json);\n                // const text = JSON.stringify(json);\n                // console.log(text);\n                // if (callback != undefined) {\n                //    callback(json);\n                // }\n                return json;\n            })\n            .catch( error => {\n                console.error('error on ' + action + ':', error);\n                alert(error);\n            } );\n\n        // return promise;\n    }\n\n    deleteFileOrFolder(path) {\n        console.log('delete ' + path);\n        let params = {};\n        let values = MoodleSyncer.splitFullname(path);\n        params['filepath'] = values[0];\n        params['filename'] = values[1];\n        console.log('delete ' + params['filepath'] + ' ' + params['filename']);\n        return this._sendRequest('delete', params);\n    }\n    download(path) {\n        console.log('DOWNLOAD');\n        console.log(this.options);\n        const contextid = this.options.contextid;\n        const addon = '/user/draft/' + this.options.itemid + path;\n        const url = Config.wwwroot + '/draftfile.php/' + contextid + addon;\n        console.log(url);\n\n        const promise = fetch(url, { method: 'GET' })\n                .then( response => response.text())\n                .catch( error => {\n                    console.error('error:', error);\n                    alert(error);\n                });\n        return promise;\n\n      // download many files as zip archive\n        /*\n        let params = {};\n        let values = MoodleSyncer.splitFullname(path);\n        let selected = new Object();\n        selected.filepath = values[0];\n        selected.filename = values[1];\n        let selectedarray = [];\n        selectedarray.push(selected);\n        params['selected'] = JSON.stringify(selectedarray);\n        this._sendRequest('downloadselected', jsonResult => {\n            console.log(jsonResult);\n            callback(jsonResult);\n        }, params); */\n    }\n    renameFile(pathold, pathnew) {\n        console.log('rename ' + pathold + ' => ' + pathnew);\n        let params = {};\n        let values = MoodleSyncer.splitFullname(pathold);\n        let newValue = MoodleSyncer.splitFullname(pathnew);\n        params['filepath'] = values[0];\n        params['filename'] = values[1];\n        params['newfilepath'] = newValue[0];\n        params['newfilename'] = newValue[1];\n        return this._sendRequest('updatefile', params);\n    }\n    renameFolder(pathold, pathnew) {\n        console.log('rename ' + pathold + ' => ' + pathnew);\n        let params = {};\n        // let values = MoodleSyncer.splitFullname(pathold);\n        let newValue = MoodleSyncer.splitFullname(pathnew);\n        params['filepath'] = pathold + '/'; // values[0];\n        params['newdirname'] = newValue[1];\n        params['newfilepath'] = newValue[0].substr(0, newValue[0].length-1); // strip trailing /\n        return this._sendRequest('updatedir', params);\n    }\n    mkdir(path) {\n        console.log('mkdir ' + path);\n        const index = path.lastIndexOf('/', path.length-1);\n        let params = {};\n        if (index < 0) {\n            params['filepath'] = '/';\n            params['newdirname'] = path;\n        } else {\n            params['filepath'] = path.substring(0, index + 1);\n            /* if (params['filepath'].substring(0, 1) != '/') {\n                params['filepath'] = '/' + params['filepath'];\n            } */\n            params['newdirname'] = path.substring(index + 1);\n        }\n        console.log('path = ' + params['filepath']);\n        console.log('dir = ' + params['newdirname']);\n        console.log(params);\n        return this._sendRequest('mkdir', params);\n    }\n/*    dir() {\n        let params = {};\n        params['filepath'] = '/';\n        this._sendRequest('dir', jsonResult => {\n            console.log('dir fertig');\n            console.log(jsonResult);\n        }, params);\n    } */\n    list(framework) {\n        console.log('Start list');\n        function stripSlashes(path) {\n            if (path.length > 1 && path.substring(path.length-1) === '/') { // Strip '/'\n                path = path.substring(0, path.length-1);\n            }\n            return path;\n        }\n        const listfolder = (path) => new Promise((resolve, reject) => {\n            let params = {};\n            params['filepath'] = path;\n            this._sendRequest('list', params)\n                .then (json => {\n                    let firstFile = undefined;\n                    json.list.forEach(item => {\n                        // console.log('syncer List Response');\n                        if (item.filename === '.') {\n                            // Create Folder.\n                            let path = stripSlashes(item.filepath);\n                            console.log('Syncer: create folder ' + path);\n                            framework.createPath(path);\n                            // console.log('** RECURSION FOR ' + path + ' => request');\n                            resolve(listfolder(path));\n                        } else {\n                            console.log('Syncer: create file ' + item.filename);\n                            let folder = framework.createPath(stripSlashes(item.filepath));\n                            let filenode = new FileNode(item.filename);\n                            folder.appendFile(filenode);\n                            if (firstFile === undefined) {\n                                firstFile = filenode;\n                                // Open first file in editor.\n                                framework.addEditor(filenode);\n                            }\n                        }\n                    });\n                    resolve();\n                });\n        });\n        return listfolder('/');\n    }\n    update(filename, text, async = false) {\n        console.log('update file ' + filename);\n        // const tmp_filename = \"/file\" + Math.random().toString(16).slice(2) + '.txt';\n        // console.log('create tmp file ' + tmp_filename);\n        const file = new File([text], filename, {\n            type: \"text/plain\"\n        });\n        return this.upload(filename, file, true, async);\n    }\n    newfile(filename) {\n        console.log('create new empty file ' + filename);\n        let values = Syncer.splitFullname(filename);\n        const file = new File([' '], values[1], {\n            type: \"text/plain\"\n        });\n        return this.upload(filename, file);\n    }\n    upload(filename, file, overwrite = false, async = true) {\n        const url = Config.wwwroot + '/repository/repository_ajax.php';\n        const action = 'upload';\n        console.log('upload ' + file.name + ' as ' + filename);\n        // alert('upload/overrite: ' + filename);\n\n        // let values = MoodleSyncer.splitFullname(filename);\n        // console.log(values[0]);\n\n        let formData = new FormData();\n        formData.append('sesskey', Config.sesskey);\n        formData.append('repo_upload_file', file);\n        formData.append('filepath', '/');\n        formData.append('client_id', this.options['client_id']);\n        formData.append('title', file.name);\n        formData.append('overwrite', overwrite);\n        formData.append('maxbytes', this.options['maxbytes']);\n        // since we are uploading the file to the 'draft area',\n        // there is no point in limiting the size of the file area.\n        // The draft area is used for all users.\n        // formData.append('areamaxbytes', this.options['areamaxbytes']);\n        formData.append('savepath', '/');\n        formData.append('repo_id', this.options['repo_id']);\n        formData.append('itemid', this.options['itemid']);\n        // console.log(formData);\n        if (async) {\n            const promise = fetch(\n                url + '?action=' + action, //  + '&' + window.build_querystring(params),\n                {\n                    method: 'POST',\n                    body: formData // file\n                }\n            )\n                .then( response => response.json() )\n                .then( json => {\n                    // console.log(action);\n                    if (json.error) {\n                        throw new Error(json.error);\n                    }\n                    console.log(json);\n                    let originalFilename = file.name;\n                    if (originalFilename.substr(0,1) != '/') {\n                        originalFilename = '/' + originalFilename;\n                    }\n                    if (originalFilename != filename) {\n                        return this.renameFile(originalFilename, filename);\n                    }\n                    return json;\n                })\n                .catch( error => {\n                    console.error('upload error:', error);\n                    alert(error);\n                });\n            return promise;\n        } else {\n            // synchronous\n            console.log('SYNCHRONOUSE UPDATE!');\n            let request = new XMLHttpRequest();\n            request.open('POST', url + '?action=' + action, false);\n            request.send(formData);\n            const jsonResponse = JSON.parse(request.responseText);\n            console.log(jsonResponse);\n            if (jsonResponse.error !== undefined) {\n                console.error(request.responseText);\n                alert(jsonResponse.error);\n            }\n        }\n    }\n}\n\n"],"names":["Syncer","options","TypeError","console","log","this","path","Promise","resolve","pathold","pathnew","framework","filename","text","file","overwrite","index","lastIndexOf","length","pathname","substring","MoodleQuestionAttemptSyncer","firstFile","undefined","forEach","values","splitFullname","node","FileNode","createPath","appendFile","addEditor","addon","usageid","slot","itemid","url","Config","wwwroot","contextid","fetch","method","then","response","status","Error","statusText","catch","error","alert","MoodleSyncer","action","params","sesskey","Object","assign","window","build_querystring","json","_sendRequest","newValue","substr","stripSlashes","listfolder","reject","_this","list","item","filepath","folder","filenode","async","File","type","upload","name","formData","FormData","append","promise","body","originalFilename","_this2","renameFile","request","XMLHttpRequest","open","send","jsonResponse","JSON","parse","responseText"],"mappings":"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"}