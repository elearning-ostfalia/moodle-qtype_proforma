define ("qtype_proforma/codemirrorif",["jquery","jqueryui","qtype_proforma/codemirror","qtype_proforma/closebrackets","qtype_proforma/matchbrackets","qtype_proforma/active-line"],function(a,b,c){map_proglang_to_codemirror_mode=function map_proglang_to_codemirror_mode(a){switch(a){case"java":return["text/x-java","qtype_proforma/clike"];case"python":return["text/x-python","qtype_proforma/python"];case"setlx":return["text/text",null];case"c":return["text/x-csrc","qtype_proforma/clike"];case"xml":return["",null];case"none":return["",null];default:console.error("unsupported mode "+a+" for map_proglang_to_codemirror_mode");return["text/text",null];}};return{switch_mode:function switch_mode(b,c){changeMode=function changeMode(b,c){var d=a("#"+b).val(),e=map_proglang_to_codemirror_mode(d);require([e[1]],function(){a("#"+c).next(".CodeMirror").get(0).CodeMirror.setOption("mode",e[0])})};try{changeMode(b,c);a("#"+b).on("change",function(){changeMode(b,c)})}catch(a){console.error("Exception caught in codemirrorif.js function switch_mode\n "+a.toString())}},init_codemirror:function init_codemirror(b,d,e,f,g){try{var h=c.fromTextArea(document.getElementById(b),{tabMode:"indent",indentUnit:4,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,readOnly:d,extraKeys:{Tab:function Tab(){h.replaceSelection("    ","end")}},lineNumbers:!0}),i=map_proglang_to_codemirror_mode(e);require([i[1]],function(){h.setOption("mode",i[0])});if(g){h.setSize("100%",null)}h.refresh();if(f){a("#"+f).click(function(){setTimeout(function(){h.refresh()},5)})}a(h.getWrapperElement()).resizable({handles:"s",resize:function resize(){h.refresh()}})}catch(a){console.error("Exception caught in codemirrorif.js function init_codemirror\n "+a.toString())}}}});
//# sourceMappingURL=codemirrorif.min.js.map
