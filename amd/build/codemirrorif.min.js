define(["jquery","qtype_proforma/codemirror","qtype_proforma/clike","qtype_proforma/python","qtype_proforma/xml","qtype_proforma/closebrackets","qtype_proforma/matchbrackets","qtype_proforma/active-line"],function(e,t,r,o,n,i,c,a){return map_proglang_to_codemirror_mode=function(e){switch(e){case"java":return"text/x-java";case"python":return"text/x-python";case"setlx":return"text/text";case"c":return"text/x-csrc";case"xml":return"application/xml";case"none":return"";default:return alert("unsupported mode "+e+" for map_proglang_to_codemirror_mode"),"text/text"}},{switch_mode:function(t,r){changeMode=function(t,r){var o=e("#"+t).val(),n=map_proglang_to_codemirror_mode(o);e("#"+r).next(".CodeMirror").get(0).CodeMirror.setOption("mode",n)};try{changeMode(t,r),e("#"+t).on("change",function(e){changeMode(t,r)})}catch(e){return void alert("Exception caught in codemirrorif.js function switch_mode\n "+e.toString())}},init_codemirror:function(r,o,n,i,c){try{var a=t.fromTextArea(document.getElementById(r),{tabMode:"indent",indentUnit:4,matchBrackets:!0,autoCloseBrackets:!0,styleActiveLine:!0,readOnly:o,extraKeys:{Tab:function(){a.replaceSelection("    ","end")}},lineNumbers:!0}),d=map_proglang_to_codemirror_mode(n);if(a.setOption("mode",d),c&&a.setSize("100%",null),a.refresh(),i&&e("#"+i).click(function(e){setTimeout(function(){a.refresh()},5)}),window.ResizeObserver){var m=a.getWrapperElement().parentNode;function s(){function e(){a.setSize(m.clientWidth-10,m.clientHeight-5),a.refresh()}e(),new ResizeObserver(e).observe(m)}m.style.resize="vertical",m.style.overflow="hidden",m.style.height="25em","loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s())}}catch(e){alert("Exception caught in codemirrorif.js function init_codemirror\n "+e.toString())}}}});