function _typeof(a){if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module)))a(require("qtype_proforma/codemirror"));else if("function"==typeof define&&define.amd)define ("qtype_proforma/python",["qtype_proforma/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";function b(a){return new RegExp("^(("+a.join(")|(")+"))\\b")}var d=b(["and","or","not","is"]),e=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],f=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];a.registerHelper("hintWords","python",e.concat(f));function c(a){return a.scopes[a.scopes.length-1]}a.defineMode("python",function(g,h){for(var r="error",s=h.delimiters||h.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,t=[h.singleOperators,h.doubleOperators,h.doubleDelimiters,h.tripleDelimiters,h.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],u=0;u<t.length;u++){if(!t[u])t.splice(u--,1)}var v=h.hangingIndent||g.indentUnit,w=e,x=f;if(h.extra_keywords!=void 0)w=w.concat(h.extra_keywords);if(h.extra_builtins!=void 0)x=x.concat(h.extra_builtins);var y=!(h.version&&3>+h.version);if(y){var z=h.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;w=w.concat(["nonlocal","False","True","None","async","await"]);x=x.concat(["ascii","bytes","exec","print"]);var A=/^(([rbuf]|(br)|(fr))?('{3}|"{3}|['"]))/i}else{var z=h.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;w=w.concat(["exec","print"]);x=x.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var A=/^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))/i}var B=b(w),C=b(x);function j(a,b){var d=a.sol()&&"\\"!=b.lastToken;if(d)b.indent=a.indentation();if(d&&"py"==c(b).type){var e=c(b).offset;if(a.eatSpace()){var f=a.indentation();if(f>e)n(b);else if(f<e&&p(a,b)&&"#"!=a.peek())b.errorToken=!0;return null}else{var g=k(a,b);if(0<e&&p(a,b))g+=" "+r;return g}}return k(a,b)}function k(a,b){if(a.eatSpace())return null;if(a.match(/^#.*/))return"comment";if(a.match(/^[0-9\.]/,!1)){var c=!1;if(a.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)){c=!0}if(a.match(/^[\d_]+\.\d*/)){c=!0}if(a.match(/^\.\d+/)){c=!0}if(c){a.eat(/J/i);return"number"}var e=!1;if(a.match(/^0x[0-9a-f_]+/i))e=!0;if(a.match(/^0b[01_]+/i))e=!0;if(a.match(/^0o[0-7_]+/i))e=!0;if(a.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)){a.eat(/J/i);e=!0}if(a.match(/^0(?![\dx])/i))e=!0;if(e){a.eat(/L/i);return"number"}}if(a.match(A)){var f=-1!==a.current().toLowerCase().indexOf("f");if(!f){b.tokenize=m(a.current(),b.tokenize);return b.tokenize(a,b)}else{b.tokenize=l(a.current(),b.tokenize);return b.tokenize(a,b)}}for(var g=0;g<t.length;g++){if(a.match(t[g]))return"operator"}if(a.match(s))return"punctuation";if("."==b.lastToken&&a.match(z))return"property";if(a.match(B)||a.match(d))return"keyword";if(a.match(C))return"builtin";if(a.match(/^(self|cls)\b/))return"variable-2";if(a.match(z)){if("def"==b.lastToken||"class"==b.lastToken)return"def";return"variable"}a.next();return r}function l(a,b){while(0<="rubf".indexOf(a.charAt(0).toLowerCase())){a=a.substr(1)}var e=1==a.length,f="string";function c(a){return function(b,e){var f=k(b,e);if("punctuation"==f){if("{"==b.current()){e.tokenize=c(a+1)}else if("}"==b.current()){if(1<a)e.tokenize=c(a-1);else e.tokenize=d}}return f}}function d(d,g){while(!d.eol()){d.eatWhile(/[^'"\{\}\\]/);if(d.eat("\\")){d.next();if(e&&d.eol())return f}else if(d.match(a)){g.tokenize=b;return f}else if(d.match("{{")){return f}else if(d.match("{",!1)){g.tokenize=c(0);if(d.current())return f;else return g.tokenize(d,g)}else if(d.match("}}")){return f}else if(d.match("}")){return r}else{d.eat(/['"]/)}}if(e){if(h.singleLineStringErrors)return r;else g.tokenize=b}return f}d.isString=!0;return d}function m(a,b){while(0<="rubf".indexOf(a.charAt(0).toLowerCase())){a=a.substr(1)}var d=1==a.length,e="string";function c(c,f){while(!c.eol()){c.eatWhile(/[^'"\\]/);if(c.eat("\\")){c.next();if(d&&c.eol())return e}else if(c.match(a)){f.tokenize=b;return e}else{c.eat(/['"]/)}}if(d){if(h.singleLineStringErrors)return r;else f.tokenize=b}return e}c.isString=!0;return c}function n(a){while("py"!=c(a).type){a.scopes.pop()}a.scopes.push({offset:c(a).offset+g.indentUnit,type:"py",align:null})}function o(a,b,c){var d=a.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:a.column()+1;b.scopes.push({offset:b.indent+v,type:c,align:d})}function p(a,b){var d=a.indentation();while(1<b.scopes.length&&c(b).offset>d){if("py"!=c(b).type)return!0;b.scopes.pop()}return c(b).offset!=d}function q(a,b){if(a.sol())b.beginningOfLine=!0;var d=b.tokenize(a,b),e=a.current();if(b.beginningOfLine&&"@"==e)return a.match(z,!1)?"meta":y?"operator":r;if(/\S/.test(e))b.beginningOfLine=!1;if(("variable"==d||"builtin"==d)&&"meta"==b.lastToken)d="meta";if("pass"==e||"return"==e)b.dedent+=1;if("lambda"==e)b.lambda=!0;if(":"==e&&!b.lambda&&"py"==c(b).type)n(b);if(1==e.length&&!/string|comment/.test(d)){var f="[({".indexOf(e);if(-1!=f)o(a,b,"])}".slice(f,f+1));f="])}".indexOf(e);if(-1!=f){if(c(b).type==e)b.indent=b.scopes.pop().offset-v;else return r}}if(0<b.dedent&&a.eol()&&"py"==c(b).type){if(1<b.scopes.length)b.scopes.pop();b.dedent-=1}return d}var D={startState:function startState(a){return{tokenize:j,scopes:[{offset:a||0,type:"py",align:null}],indent:a||0,lastToken:null,lambda:!1,dedent:0}},token:function token(a,b){var c=b.errorToken;if(c)b.errorToken=!1;var d=q(a,b);if(d&&"comment"!=d)b.lastToken="keyword"==d||"punctuation"==d?a.current():d;if("punctuation"==d)d=null;if(a.eol()&&b.lambda)b.lambda=!1;return c?d+" "+r:d},indent:function indent(b,d){if(b.tokenize!=j)return b.tokenize.isString?a.Pass:0;var e=c(b),f=e.type==d.charAt(0);if(null!=e.align)return e.align-(f?1:0);else return e.offset-(f?v:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return D});a.defineMIME("text/x-python","python");a.defineMIME("text/x-cython",{name:"python",extra_keywords:function words(a){return a.split(" ")}("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})});
//# sourceMappingURL=python.min.js.map
